(()=>{"use strict";var e={7082:(e,o,t)=>{t(5363),t(71);var a=t(8880),l=t(9592),s=t(3673);function i(e,o,t,a,l,i){const r=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(r)}const r=(0,s.aZ)({name:"App"});r.render=i;const n=r;var d=t(214),c=t(7083),u=t(9582);const m={class:"row"},p=(0,s._)("div",{class:"col-12 col-md-3"},null,-1),h={class:"col-12 col-md-6"},g=(0,s._)("div",{class:"text-h6"},"Ingresar al sistemas",-1),b=(0,s.Uk)(" Por favor colocar email y contraseña "),f={class:"row"},w={class:"col-12"},_={class:"col-12 q-pt-md"},v={class:"col-12 q-py-md"},x=(0,s._)("div",{class:"text-caption q-py-xs"},null,-1),q=(0,s._)("hr",null,null,-1),W=(0,s._)("br",null,null,-1),y={class:"col-6"},V=(0,s._)("div",{class:"text-h5"},"MISION",-1),C=(0,s._)("div",{class:""}," La Unidad Educativa “Santa Rosa 2”es un Colegio Técnico-Humanístico, con un selecto plantel docente y administrativo, líder, comprometido con la transformación Social que vive el Estado Plurinacional de Bolivia. ",-1),k={class:"col-6"},E=(0,s._)("div",{class:"text-h5"},"VISION",-1),S=(0,s._)("div",{class:""}," “Formar estudiantes con diversas capacidades, técnicas y humanísticas, jóvenes y señoritas líderes, con análisis crítico y reflexivo, comunicativos con su entorno y consigo mismo, enmarcados en la práctica de valores Socio Comunitarios Productivos, con conocimientos suficientes sobre las nuevas tecnologías de información, aplicando el nuevo modelo Educativo Socio Comunitario Productivo, para vivir bien en armonía con la madre tierra”. ",-1);function R(e,o,t,l,i,r){const n=(0,s.up)("q-tab"),d=(0,s.up)("q-tabs"),c=(0,s.up)("q-separator"),u=(0,s.up)("q-icon"),R=(0,s.up)("q-input"),A=(0,s.up)("q-btn"),I=(0,s.up)("q-form"),U=(0,s.up)("q-tab-panel"),D=(0,s.up)("q-tab-panels"),$=(0,s.up)("q-card"),Z=(0,s.up)("q-card-section"),T=(0,s.up)("q-card-actions"),P=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(P,{class:"q-pa-md"},{default:(0,s.w5)((()=>[(0,s._)("div",m,[p,(0,s._)("div",h,[(0,s.Wm)($,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{modelValue:i.tab,"onUpdate:modelValue":o[0]||(o[0]=e=>i.tab=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{name:"login",label:"Ingresar"})])),_:1},8,["modelValue"]),(0,s.Wm)(c),(0,s.Wm)(D,{modelValue:i.tab,"onUpdate:modelValue":o[4]||(o[4]=e=>i.tab=e),animated:""},{default:(0,s.w5)((()=>[(0,s.Wm)(U,{name:"login"},{default:(0,s.w5)((()=>[g,b,(0,s.Wm)(I,{onSubmit:(0,a.iM)(r.login,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",f,[(0,s._)("div",w,[(0,s.Wm)(R,{type:"email",outlined:"",modelValue:i.email,"onUpdate:modelValue":o[1]||(o[1]=e=>i.email=e),label:"Email*",hint:"Porfavor ingresar email",rules:i.rule},{prepend:(0,s.w5)((()=>[(0,s.Wm)(u,{name:"email"})])),_:1},8,["modelValue","rules"])]),(0,s._)("div",_,[(0,s.Wm)(R,{outlined:"",modelValue:i.password,"onUpdate:modelValue":o[3]||(o[3]=e=>i.password=e),label:"password*",type:i.isPwd?"password":"text",hint:"Porfavor ingresar password",rules:i.rule},{prepend:(0,s.w5)((()=>[(0,s.Wm)(u,{name:"lock"})])),append:(0,s.w5)((()=>[(0,s.Wm)(u,{name:i.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:o[2]||(o[2]=e=>i.isPwd=!i.isPwd)},null,8,["name"])])),_:1},8,["modelValue","type","rules"])]),(0,s._)("div",v,[(0,s.Wm)(A,{label:"INGRESAR",color:"primary",icon:"login",class:"full-width",type:"submit"}),x])])])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"])])),_:1})]),q,W,(0,s._)("div",null,[(0,s._)("div",y,[(0,s.Wm)($,{class:"my-card"},{default:(0,s.w5)((()=>[(0,s.Wm)(Z,{class:"bg-green-6 text-white"},{default:(0,s.w5)((()=>[V])),_:1}),(0,s.Wm)(T,{vertical:""},{default:(0,s.w5)((()=>[C])),_:1})])),_:1})]),(0,s._)("div",k,[(0,s.Wm)($,{class:"my-card"},{default:(0,s.w5)((()=>[(0,s.Wm)(Z,{class:"bg-green-6 text-white"},{default:(0,s.w5)((()=>[E])),_:1}),(0,s.Wm)(T,{vertical:""},{default:(0,s.w5)((()=>[S])),_:1})])),_:1})])])])])),_:1})}const A={data(){return{rule:[e=>e&&e.length>0||"Porfavor ingresar dato"],email:"",password:"",tab:"login",user:{},isPwd:!0}},created(){this.$store.getters["login/isLoggedIn"]&&this.$router.push("/biblioteca")},methods:{registrar(){this.$q.loading.show(),this.$store.dispatch("login/register",this.user).then((()=>{this.$q.loading.hide(),this.$router.push("/biblioteca")})).catch((e=>{this.$q.loading.hide();let o="";Object.entries(e.response.data.errors).forEach((([e,t])=>{o+=` ${e}: ${t},`})),this.$q.notify({message:o,color:"red",icon:"error"})}))},login(){this.$q.loading.show(),this.$store.dispatch("login/login",{email:this.email,password:this.password}).then((()=>{this.$q.loading.hide(),this.$router.push("/biblioteca")})).catch((e=>{this.$q.loading.hide(),console.log(e.response.data.res),this.$q.notify({message:e.response.data.res,color:"red",icon:"error"})}))}}};var I=t(4379),U=t(151),D=t(7547),$=t(3269),Z=t(5869),T=t(5906),P=t(6602),O=t(8689),M=t(4842),Q=t(4554),N=t(8240),F=t(5589),z=t(9367),L=t(7518),B=t.n(L);A.render=R;const Y=A;B()(A,"components",{QPage:I.Z,QCard:U.Z,QTabs:D.Z,QTab:$.Z,QSeparator:Z.Z,QTabPanels:T.Z,QTabPanel:P.Z,QForm:O.Z,QInput:M.Z,QIcon:Q.Z,QBtn:N.Z,QCardSection:F.Z,QCardActions:z.Z});var j=t(2323);const G={class:"q-pa-md"},H={class:"row"},K={class:"col-3"},J={class:"col-3"},X={class:"text-h7"},ee=(0,s.Uk)(" MODIFICAR DATOS DE USUARIO"),oe=(0,s._)("span",{class:"q-ml-sm"},"Seguro de eliminar Registro.",-1),te={class:"text-h7 text-white"},ae=(0,s.Uk)(" PERMISOS DE ACCESO"),le=(0,s._)("div",{class:"text-h6"},"MATERIAS",-1),se={class:"row"},ie=(0,s._)("div",{class:"text-h6"},"CURSOS",-1),re={class:"row"};function ne(e,o,t,l,i,r){const n=(0,s.up)("q-btn"),d=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-td"),m=(0,s.up)("q-tr"),p=(0,s.up)("q-table"),h=(0,s.up)("q-select"),g=(0,s.up)("q-card-section"),b=(0,s.up)("q-form"),f=(0,s.up)("q-card"),w=(0,s.up)("q-dialog"),_=(0,s.up)("q-avatar"),v=(0,s.up)("q-card-actions"),x=(0,s.up)("q-checkbox"),q=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.iD)("div",G,[(0,s.Wm)(p,{dense:"",filter:i.filter,title:"LISTA DE PROFESORES",rows:i.data,columns:i.columns,"row-key":"name","rows-per-page-options":[50,100]},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(n,{color:"info",icon:"print",onClick:r.printpdf},null,8,["onClick"]),(0,s.Wm)(c,{borderless:"",dense:"",debounce:"300",modelValue:i.filter,"onUpdate:modelValue":o[0]||(o[0]=e=>i.filter=e),placeholder:"Search"},{append:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"search"})])),_:1},8,["modelValue"])])),body:(0,s.w5)((e=>[(0,s.Wm)(m,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{key:"nombres",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.nombres),1)])),_:2},1032,["props"]),(0,s.Wm)(u,{key:"apellidos",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.apellidos),1)])),_:2},1032,["props"]),(0,s.Wm)(u,{key:"carnet",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.carnet),1)])),_:2},1032,["props"]),(0,s.Wm)(u,{key:"materias",props:e},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.row.materias,(e=>((0,s.wg)(),(0,s.iD)("ul",{key:e},[(0,s._)("li",null,(0,j.zw)(e.nombre),1)])))),128))])),_:2},1032,["props"]),(0,s.Wm)(u,{key:"cursos",props:e},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.row.cursos,(e=>((0,s.wg)(),(0,s.iD)("ul",{key:e},[(0,s._)("li",null,(0,j.zw)(e.nombre)+" "+(0,j.zw)(e.paralelo),1)])))),128))])),_:2},1032,["props"]),(0,s.Wm)(u,{key:"email",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.email),1)])),_:2},1032,["props"]),(0,s.Wm)(u,{key:"fechalimite",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.fechalimite),1)])),_:2},1032,["props"]),(0,s.Wm)(u,{key:"opcion",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{dense:"",round:"",flat:"",color:"accent",onClick:o=>r.vermaterias(e.row),icon:"menu_book"},null,8,["onClick"]),(0,s.Wm)(n,{dense:"",round:"",flat:"",color:"cyan",onClick:o=>r.vercursos(e.row),icon:"history_edu"},null,8,["onClick"]),(0,s.Wm)(n,{dense:"",round:"",flat:"",color:"yellow",onClick:o=>r.editRow(e),icon:"edit"},null,8,["onClick"]),(0,s.Wm)(n,{dense:"",round:"",flat:"",color:"red",onClick:o=>r.deleteRow(e),icon:"delete"},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["filter","rows","columns"]),(0,s._)("div",H,[(0,s._)("div",K,[(0,s.Wm)(h,{square:"",outlined:"",modelValue:i.curso,"onUpdate:modelValue":o[1]||(o[1]=e=>i.curso=e),options:i.cursos,label:"Curso"},null,8,["modelValue","options"])]),(0,s._)("div",J,[(0,s.Wm)(n,{color:"teal",icon:"print",onClick:r.cargarcurso},null,8,["onClick"])])]),(0,s.Wm)(w,{modelValue:i.dialog_mod,"onUpdate:modelValue":o[6]||(o[6]=e=>i.dialog_mod=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{style:{"max-width":"80%",width:"50%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{class:"bg-warning text-white"},{default:(0,s.w5)((()=>[(0,s._)("div",X,[(0,s.Wm)(d,{name:"edit"}),ee])])),_:1}),(0,s.Wm)(g,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{onSubmit:r.onMod,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{filled:"",modelValue:i.dato2.nombres,"onUpdate:modelValue":o[2]||(o[2]=e=>i.dato2.nombres=e),type:"text",label:"Nombres ",hint:"Ingresar Nombre","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(c,{filled:"",modelValue:i.dato2.apellidos,"onUpdate:modelValue":o[3]||(o[3]=e=>i.dato2.apellidos=e),type:"text",label:"Apellidos ",hint:"Ingresar apellido","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(c,{filled:"",modelValue:i.dato2.carnet,"onUpdate:modelValue":o[4]||(o[4]=e=>i.dato2.carnet=e),type:"text",label:"Carnet",hint:"Carnet de identidad","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(c,{filled:"",label:"Fecha limite",type:"date",modelValue:i.dato2.fechalimite,"onUpdate:modelValue":o[5]||(o[5]=e=>i.dato2.fechalimite=e)},null,8,["modelValue"]),(0,s._)("div",null,[(0,s.Wm)(n,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(n,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[q]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(w,{modelValue:i.dialog_del,"onUpdate:modelValue":o[7]||(o[7]=e=>i.dialog_del=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,{class:"row items-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{icon:"clear",color:"red","text-color":"white"}),oe])),_:1}),(0,s.Wm)(v,{align:"right"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{flat:"",label:"Eliminar",color:"deep-orange",onClick:r.onDel},null,8,["onClick"]),(0,s.wy)((0,s.Wm)(n,{flat:"",label:"Cancelar",color:"primary"},null,512),[[q]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(w,{modelValue:i.modelpermiso,"onUpdate:modelValue":o[8]||(o[8]=e=>i.modelpermiso=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{style:{width:"700px","max-width":"80vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{class:"bg-info"},{default:(0,s.w5)((()=>[(0,s._)("div",te,[(0,s.Wm)(d,{name:"folder"}),ae])])),_:1}),(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s.Wm)(b,{onSubmit:(0,a.iM)(r.updatepermisos,["prevent"])},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.permisos2,((e,o)=>((0,s.wg)(),(0,s.j4)(x,{style:{width:"100%"},key:o,label:e.nombre,modelValue:e.estado,"onUpdate:modelValue":o=>e.estado=o},null,8,["label","modelValue","onUpdate:modelValue"])))),128)),(0,s.Wm)(n,{type:"submit",color:"info",icon:"send",label:"Actualizar"})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(w,{modelValue:i.dialogMateria,"onUpdate:modelValue":o[10]||(o[10]=e=>i.dialogMateria=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{style:{"min-width":"350px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[le])),_:1}),(0,s.Wm)(g,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s._)("div",se,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.materias,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"col-4",key:e},[(0,s.Wm)(x,{modelValue:i.lmaterias,"onUpdate:modelValue":o[9]||(o[9]=e=>i.lmaterias=e),val:e.id,label:e.nombre,color:"teal"},null,8,["modelValue","val","label"])])))),128))])])),_:1}),(0,s.Wm)(v,{align:"right",class:"text-primary"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(n,{flat:"",label:"CANCELAR"},null,512),[[q]]),(0,s.Wm)(n,{flat:"",label:"MODIFICAR",onClick:r.modmateria},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(w,{modelValue:i.dialogCurso,"onUpdate:modelValue":o[12]||(o[12]=e=>i.dialogCurso=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{style:{"min-width":"350px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[ie])),_:1}),(0,s.Wm)(g,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s._)("div",re,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cursos,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"col-4",key:e},[(0,s.Wm)(x,{modelValue:i.lcursos,"onUpdate:modelValue":o[11]||(o[11]=e=>i.lcursos=e),val:e.id,label:e.nombre+" "+e.paralelo,color:"teal"},null,8,["modelValue","val","label"])])))),128))])])),_:1}),(0,s.Wm)(v,{align:"right",class:"text-primary"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(n,{flat:"",label:"CANCELAR"},null,512),[[q]]),(0,s.Wm)(n,{flat:"",label:"MODIFICAR",onClick:r.modcurso},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var de=t(1082),ce=t(9587);const{addToDate:ue}=de.ZP,me={data(){return{alert:!1,dialogMateria:!1,dialogCurso:!1,dialog_mod:!1,dialog_del:!1,filter:"",lmaterias:[],lcursos:[],curso:{},dato:{fechalimite:de.ZP.formatDate(ue(new Date,{days:7}),"YYYY-MM-DD")},model:"",dato2:{},options:[],props:[],unidades:[],permisos:[],permisos2:[],materias:[],cursos:[],usuario:{},cursoprofesor:[],modelpermiso:!1,uni:{},columns:[{name:"nombres",align:"left",label:"NOMBRE",field:"nombres",sortable:!0},{name:"apellidos",align:"left",label:"APELLIDOS ",field:"apellidos",sortable:!0},{name:"carnet",align:"left",label:"CARNET ",field:"carnet",sortable:!0},{name:"materias",align:"left",label:"MATERIAS ",field:e=>e.materias},{name:"cursos",align:"left",label:"CURSOS ",field:e=>e.cursos},{name:"email",align:"left",label:"E-MAIL",field:"email",sortable:!0},{name:"fechalimite",align:"left",label:"FECHA LÍMITE",field:"fechalimite",sortable:!0},{name:"opcion",label:"OPCIÓN",field:"action",sortable:!1}],data:[]}},created(){this.misdatos(),this.$axios.get("https://back.uesantarosa2.gq/api/permiso").then((e=>{e.data.forEach((e=>{this.permisos.push({id:e.id,nombre:e.nombre,estado:!1}),this.permisos2.push({id:e.id,nombre:e.nombre,estado:!1})}))})),this.listmaterias(),this.listcursos()},methods:{cargarcurso(){this.cursoprofesor=[],this.data.forEach((e=>{e.cursos.forEach((o=>{this.curso.id==o.id&&this.cursoprofesor.push(e)}))})),console.log(this.cursoprofesor);let e=this;function o(){var o=new Image;o.src="img/escudo.jpeg",t.addImage(o,"jpg",.5,.5,2,2),t.setFont(void 0,"bold"),t.text(5,1,"LISTA DE PROFESORES CURSO "+e.curso.label),t.text(1,3,"ID"),t.text(3,3,"NOMBRES"),t.text(6,3,"APELLIDOS"),t.text(9,3,"CI"),t.text(14,3,"MATERIAS"),t.setFont(void 0,"normal")}var t=new ce.ZP("p","cm","letter");t.setFontSize(10),o(),t.setFontSize(8);let a=0;this.cursoprofesor.forEach((e=>{console.log(e),a+=.5,t.text(1,a+3,e.id+""),t.text(3,a+3,e.nombres+""),t.text(6,a+3,e.apellidos+""),t.text(9,a+3,e.carnet+""),e.materias.forEach((e=>{t.text(14,a+3,e.nombre+""),a+=.5,a+.5>=27&&(t.addPage(),o(),a=0)})),a+.5>=27&&(t.addPage(),o(),a=0)})),window.open(t.output("bloburl"),"_blank")},printpdf(){function e(){var e=new Image;e.src="img/escudo.jpeg",o.addImage(e,"jpg",.5,.5,2,2),o.setFont(void 0,"bold"),o.text(5,1,"LISTA DE PROFESORES"),o.text(1,3,"ID"),o.text(3,3,"NOMBRES"),o.text(6,3,"APELLIDOS"),o.text(9,3,"CI"),o.text(14,3,"MATERIAS"),o.setFont(void 0,"normal")}var o=new ce.ZP("p","cm","letter");o.setFontSize(10),e(),o.setFontSize(8);let t=0;this.data.forEach((a=>{console.log(a),t+=.5,o.text(1,t+3,a.id+""),o.text(3,t+3,a.nombres+""),o.text(6,t+3,a.apellidos+""),o.text(9,t+3,a.carnet+""),a.materias.forEach((a=>{o.text(14,t+3,a.nombre+""),t+=.5,t+.5>=27&&(o.addPage(),e(),t=0)})),t+.5>=27&&(o.addPage(),e(),t=0)})),window.open(o.output("bloburl"),"_blank")},modmateria(){this.$axios.post("https://back.uesantarosa2.gq/api/asignarMateria",{user:this.usuario,materias:this.lmaterias}).then((e=>{console.log(e.data),this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialogMateria=!1,this.misdatos()}))},modcurso(){this.$axios.post("https://back.uesantarosa2.gq/api/asignarCurso",{user:this.usuario,cursos:this.lcursos}).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialogCurso=!1,this.misdatos()}))},vermaterias(e){this.usuario=e,this.lmaterias=[],this.usuario.materias.forEach((e=>{this.lmaterias.push(e.id)})),console.log(this.lmaterias),this.dialogMateria=!0},vercursos(e){this.usuario=e,this.lcursos=[],console.log(this.usuario),this.usuario.cursos.forEach((e=>{this.lcursos.push(e.id)})),console.log(this.lcursos),this.dialogCurso=!0},listmaterias(){this.$axios.get("https://back.uesantarosa2.gq/api/materia").then((e=>{this.materias=e.data}))},listcursos(){this.$axios.get("https://back.uesantarosa2.gq/api/curso").then((e=>{e.data.forEach((e=>{e.label=e.nombre+" "+e.paralelo})),this.cursos=e.data,this.curso=this.cursos[0]}))},updatepermisos(){this.$axios.put("https://back.uesantarosa2.gq/api/updatepermisos/"+this.dato2.id,{permisos:this.permisos2}).then((e=>{this.modelpermiso=!1,this.misdatos()})).catch((e=>{this.$q.notify({message:e.response.data.message,icon:"close",color:"red"})}))},mispermisos(e){let o;this.modelpermiso=!0,this.dato2=e.row,this.permisos2.forEach((e=>{o=this.dato2.permisos.find((o=>o.pivot.permiso_id==e.id)),e.estado=void 0!=o}))},misdatos(){this.$q.loading.show(),this.$axios.post("https://back.uesantarosa2.gq/api/listprofesor").then((e=>{console.log(e.data),this.data=e.data,this.$q.loading.hide()}))},editRow(e){this.dato2=e.row,this.dato2.unid_id=e.row.unid,this.dialog_mod=!0},deleteRow(e){this.dato2=e.row,this.dialog_del=!0},onMod(){this.$q.loading.show(),this.$axios.put("https://back.uesantarosa2.gq/api/user/"+this.dato2.id,{id:this.dato2.id,nombres:this.dato2.nombres,apellidos:this.dato2.apellidos,email:this.dato2.email,carnet:this.dato2.carnet,celular:this.dato2.celular,tipo:this.dato2.tipo,fechalimite:this.dato2.fechalimite}).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialog_mod=!1,this.misdatos()}))},onDel(){this.$q.loading.show(),this.$axios.delete("https://back.uesantarosa2.gq/api/user/"+this.dato2.id).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.dialog_del=!1,this.misdatos()})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,icon:"error",color:"red"})}))},onReset(){this.dato.nombre=null,this.dato.inicio=0,this.dato.fin=0},cambiopass(e){this.$q.dialog({title:"CAMBIAR PASSWORD",message:"Ingresar nueva contraseña",prompt:{model:"",type:"password"},cancel:!0,persistent:!0}).onOk((o=>{this.$q.loading.show(),this.$axios.put("https://back.uesantarosa2.gq/api/pass/"+e.row.id,{password:o}).then((e=>{this.$q.loading.hide()}))})).onCancel((()=>{})).onDismiss((()=>{}))}}};var pe=t(6429),he=t(8186),ge=t(3884),be=t(7637),fe=t(6778),we=t(5096),_e=t(5735),ve=t(677);me.render=ne;const xe=me;B()(me,"components",{QTable:pe.Z,QBtn:N.Z,QInput:M.Z,QIcon:Q.Z,QTr:he.Z,QTd:ge.Z,QSelect:be.Z,QDialog:fe.Z,QCard:U.Z,QCardSection:F.Z,QForm:O.Z,QAvatar:we.Z,QCardActions:z.Z,QCheckbox:_e.Z}),B()(me,"directives",{ClosePopup:ve.Z});const qe={class:"q-pa-md"},We={class:"text-h7"},ye=(0,s.Uk)(" REGISTRO DE NUEVO USUARIO"),Ve={class:"row"},Ce={class:"col-6"},ke={class:"col-6"},Ee=(0,s._)("div",{class:"text-5"},"Permisos",-1),Se={class:"text-h7"},Re=(0,s.Uk)(" MODIFICAR DATOS DE USUARIO"),Ae=(0,s._)("span",{class:"q-ml-sm"},"Seguro de eliminar Registro.",-1),Ie={class:"text-h7 text-white"},Ue=(0,s.Uk)(" PERMISOS DE ACCESO");function De(e,o,t,l,i,r){const n=(0,s.up)("q-btn"),d=(0,s.up)("q-icon"),c=(0,s.up)("q-card-section"),u=(0,s.up)("q-input"),m=(0,s.up)("q-select"),p=(0,s.up)("q-checkbox"),h=(0,s.up)("q-form"),g=(0,s.up)("q-card"),b=(0,s.up)("q-dialog"),f=(0,s.up)("q-td"),w=(0,s.up)("q-badge"),_=(0,s.up)("q-tr"),v=(0,s.up)("q-table"),x=(0,s.up)("q-avatar"),q=(0,s.up)("q-card-actions"),W=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.iD)("div",qe,[(0,s.Wm)(n,{label:"Nuevo usuario",color:"positive",onClick:o[0]||(o[0]=e=>i.alert=!0),icon:"add_circle",class:"q-mb-xs"}),(0,s.Wm)(b,{modelValue:i.alert,"onUpdate:modelValue":o[9]||(o[9]=e=>i.alert=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{style:{"max-width":"80%",width:"50%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"bg-green-14 text-white"},{default:(0,s.w5)((()=>[(0,s._)("div",We,[(0,s.Wm)(d,{name:"add_circle"}),ye])])),_:1}),(0,s.Wm)(c,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{onSubmit:r.onSubmit,onReset:r.onReset,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",Ve,[(0,s._)("div",Ce,[(0,s.Wm)(u,{filled:"",modelValue:i.dato.carnet,"onUpdate:modelValue":o[1]||(o[1]=e=>i.dato.carnet=e),type:"text",label:"Carnet",hint:"Ingresar Cedula","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(m,{modelValue:i.dato.expedido,"onUpdate:modelValue":o[2]||(o[2]=e=>i.dato.expedido=e),options:["OR","LP","CH","PT","PN","SC","CB","TJ","BN"],label:"Expedido"},null,8,["modelValue"]),(0,s.Wm)(u,{filled:"",modelValue:i.dato.nombres,"onUpdate:modelValue":o[3]||(o[3]=e=>i.dato.nombres=e),type:"text",label:"Nombres",hint:"Ingresar Nombres",onKeydown:r.alphaOnly,"lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","onKeydown","rules"]),(0,s.Wm)(u,{filled:"",modelValue:i.dato.apellidos,"onUpdate:modelValue":o[4]||(o[4]=e=>i.dato.apellidos=e),type:"text",label:"Apellidos ",hint:"Ingresar Apelldos",onKeydown:r.alphaOnly,"lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","onKeydown","rules"]),(0,s.Wm)(u,{filled:"",label:"Fecha Nac",type:"date",hint:"Fecha Nac",modelValue:i.dato.fechanac,"onUpdate:modelValue":o[5]||(o[5]=e=>i.dato.fechanac=e)},null,8,["modelValue"]),(0,s.Wm)(m,{modelValue:i.dato.tipo,"onUpdate:modelValue":o[6]||(o[6]=e=>i.dato.tipo=e),options:["ADMINISTRADOR","PROFESOR","SECRETARIA","USUARIO","BIBLIOTECA"],label:"Tipo Usuario"},null,8,["modelValue"]),(0,s.Wm)(u,{filled:"",modelValue:i.dato.password,"onUpdate:modelValue":o[7]||(o[7]=e=>i.dato.password=e),type:"password",label:"Contraseña",hint:"Contraseña","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{filled:"",label:"Fecha limite",type:"date",hint:"Fecha limite de acceso",modelValue:i.dato.fechalimite,"onUpdate:modelValue":o[8]||(o[8]=e=>i.dato.fechalimite=e)},null,8,["modelValue"])]),(0,s._)("div",ke,[Ee,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.permisos,((e,o)=>((0,s.wg)(),(0,s.j4)(p,{style:{width:"100%"},key:o,label:e.nombre,modelValue:e.estado,"onUpdate:modelValue":o=>e.estado=o},null,8,["label","modelValue","onUpdate:modelValue"])))),128))])]),(0,s._)("div",null,[(0,s.Wm)(n,{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(n,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[W]])])])),_:1},8,["onSubmit","onReset"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(v,{dense:"",filter:i.filter,title:"REGISTRO DE USUARIOS",rows:i.data,columns:i.columns,"row-key":"name","rows-per-page-options":[50,100]},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(u,{borderless:"",dense:"",debounce:"300",modelValue:i.filter,"onUpdate:modelValue":o[10]||(o[10]=e=>i.filter=e),placeholder:"Search"},{append:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"search"})])),_:1},8,["modelValue"])])),body:(0,s.w5)((e=>[(0,s.Wm)(_,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{key:"nombres",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.nombres),1)])),_:2},1032,["props"]),(0,s.Wm)(f,{key:"apellidos",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.apellidos),1)])),_:2},1032,["props"]),(0,s.Wm)(f,{key:"email",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.email),1)])),_:2},1032,["props"]),(0,s.Wm)(f,{key:"permisos",props:e},{default:(0,s.w5)((()=>[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.row.permisos,((e,o)=>((0,s.wg)(),(0,s.iD)("li",{key:o},(0,j.zw)(e.nombre),1)))),128))])])),_:2},1032,["props"]),(0,s.Wm)(f,{key:"fechalimite",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.fechalimite),1)])),_:2},1032,["props"]),(0,s.Wm)(f,{key:"tipo",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{color:"USUARIO"==e.row.tipo?"teal":"accent"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.tipo),1)])),_:2},1032,["color"])])),_:2},1032,["props"]),(0,s.Wm)(f,{key:"opcion",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{dense:"",round:"",flat:"",color:"yellow",onClick:o=>r.editRow(e),icon:"edit"},null,8,["onClick"]),(0,s.Wm)(n,{dense:"",round:"",flat:"",color:"positive",onClick:o=>r.cambiopass(e),icon:"vpn_key"},null,8,["onClick"]),(0,s.Wm)(n,{dense:"",round:"",flat:"",color:"green-10",onClick:o=>r.mispermisos(e),icon:"post_add"},null,8,["onClick"]),(0,s.Wm)(n,{dense:"",round:"",flat:"",color:"red",onClick:o=>r.deleteRow(e),icon:"delete"},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["filter","rows","columns"]),(0,s.Wm)(b,{modelValue:i.dialog_mod,"onUpdate:modelValue":o[17]||(o[17]=e=>i.dialog_mod=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{style:{"max-width":"80%",width:"50%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"bg-warning text-white"},{default:(0,s.w5)((()=>[(0,s._)("div",Se,[(0,s.Wm)(d,{name:"edit"}),Re])])),_:1}),(0,s.Wm)(c,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{onSubmit:r.onMod,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{filled:"",modelValue:i.dato2.nombres,"onUpdate:modelValue":o[11]||(o[11]=e=>i.dato2.nombres=e),type:"text",label:"Nombre ",hint:"Ingresar Nombre","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{filled:"",modelValue:i.dato2.apellidos,"onUpdate:modelValue":o[12]||(o[12]=e=>i.dato2.apellidos=e),type:"text",label:"apellidos ",hint:"Ingresar apellidos","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{filled:"",modelValue:i.dato2.email,"onUpdate:modelValue":o[13]||(o[13]=e=>i.dato2.email=e),type:"email",label:"Email",hint:"Correo electronico","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{filled:"",modelValue:i.dato2.carnet,"onUpdate:modelValue":o[14]||(o[14]=e=>i.dato2.carnet=e),type:"text",label:"Carnet",hint:"Carnet de identidad","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{filled:"",label:"Fecha limite",type:"date",modelValue:i.dato2.fechalimite,"onUpdate:modelValue":o[15]||(o[15]=e=>i.dato2.fechalimite=e)},null,8,["modelValue"]),(0,s.Wm)(m,{filled:"",label:"Tipo usuario",modelValue:i.dato2.tipo,"onUpdate:modelValue":o[16]||(o[16]=e=>i.dato2.tipo=e),options:["USUARIO","SECRETARIA"," BIBLIOTECA","PROFESOR"]},null,8,["modelValue"]),(0,s._)("div",null,[(0,s.Wm)(n,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(n,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[W]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(b,{modelValue:i.dialog_del,"onUpdate:modelValue":o[18]||(o[18]=e=>i.dialog_del=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"row items-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{icon:"clear",color:"red","text-color":"white"}),Ae])),_:1}),(0,s.Wm)(q,{align:"right"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{flat:"",label:"Eliminar",color:"deep-orange",onClick:r.onDel},null,8,["onClick"]),(0,s.wy)((0,s.Wm)(n,{flat:"",label:"Cancelar",color:"primary"},null,512),[[W]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(b,{modelValue:i.modelpermiso,"onUpdate:modelValue":o[19]||(o[19]=e=>i.modelpermiso=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{style:{width:"700px","max-width":"80vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"bg-info"},{default:(0,s.w5)((()=>[(0,s._)("div",Ie,[(0,s.Wm)(d,{name:"folder"}),Ue])])),_:1}),(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{onSubmit:(0,a.iM)(r.updatepermisos,["prevent"])},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.permisos2,((e,o)=>((0,s.wg)(),(0,s.j4)(p,{style:{width:"100%"},key:o,label:e.nombre,modelValue:e.estado,"onUpdate:modelValue":o=>e.estado=o},null,8,["label","modelValue","onUpdate:modelValue"])))),128)),(0,s.Wm)(n,{type:"submit",color:"info",icon:"send",label:"Actualizar"})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const{addToDate:$e}=de.ZP,Ze={data(){return{alert:!1,dialog_mod:!1,dialog_del:!1,filter:"",dato:{fechalimite:de.ZP.formatDate($e(new Date,{days:7}),"YYYY-MM-DD")},model:"",dato2:{},options:[],props:[],unidades:[],permisos:[],permisos2:[],modelpermiso:!1,uni:{},columns:[{name:"nombres",align:"left",label:"NOMBRE ",field:"nombres",sortable:!0},{name:"apellidos",align:"left",label:"APELLIDOS ",field:"apellidos",sortable:!0},{name:"email",align:"left",label:"E-MAIL",field:"email",sortable:!0},{name:"permisos",align:"left",label:"PERMISOS",field:"permisos",sortable:!0},{name:"fechalimite",align:"left",label:"FECHA LÍMITE",field:"fechalimite",sortable:!0},{name:"tipo",align:"left",label:"TIPO",field:"tipo",sortable:!0},{name:"opcion",label:"OPCIÓN",field:"action",sortable:!1}],data:[]}},created(){this.misdatos(),this.$axios.get("https://back.uesantarosa2.gq/api/permiso").then((e=>{e.data.forEach((e=>{this.permisos.push({id:e.id,nombre:e.nombre,estado:!1}),this.permisos2.push({id:e.id,nombre:e.nombre,estado:!1})}))}))},methods:{alphaOnly(e){let o=[8,32,39],t=e.keyCode;t>=65&&t<=90||o.includes(t)||e.preventDefault()},updatepermisos(){this.$axios.put("https://back.uesantarosa2.gq/api/updatepermisos/"+this.dato2.id,{permisos:this.permisos2}).then((e=>{this.modelpermiso=!1,this.misdatos()})).catch((e=>{this.$q.notify({message:e.response.data.message,icon:"close",color:"red"})}))},mispermisos(e){let o;this.modelpermiso=!0,this.dato2=e.row,this.permisos2.forEach((e=>{o=this.dato2.permisos.find((o=>o.pivot.permiso_id==e.id)),e.estado=void 0!=o}))},misdatos(){this.$q.loading.show(),this.$axios.get("https://back.uesantarosa2.gq/api/user").then((e=>{this.data=e.data,this.$q.loading.hide()}))},editRow(e){this.dato2=e.row,this.dato2.unid_id=e.row.unid,this.dialog_mod=!0},deleteRow(e){this.dato2=e.row,this.dialog_del=!0},onSubmit(){this.$q.loading.show(),this.$axios.post("https://back.uesantarosa2.gq/api/user",{nombres:this.dato.nombres,apellidos:this.dato.apellidos,expedido:this.dato.expedido,fechanac:this.dato.fechanac,password:this.dato.password,tipo:this.dato.tipo,email:this.dato.email,celular:this.dato.celular,carnet:this.dato.carnet,fechalimite:this.dato.fechalimite,permisos:this.permisos}).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),this.dato={fechalimite:de.ZP.formatDate(Date.now(),"YYYY-MM-DD")},this.alert=!1,this.misdatos()})).catch((e=>{console.log(e.response.data),this.$q.notify({message:e.response.data.message,icon:"close",color:"red"}),this.$q.loading.hide()}))},onMod(){this.$q.loading.show(),this.$axios.put("https://back.uesantarosa2.gq/api/user/"+this.dato2.id,{id:this.dato2.id,nombres:this.dato2.nombres,apellidos:this.dato2.apellidos,email:this.dato2.email,carnet:this.dato2.carnet,celular:this.dato2.celular,tipo:this.dato2.tipo,fechalimite:this.dato2.fechalimite}).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialog_mod=!1,this.misdatos()}))},onDel(){this.$q.loading.show(),this.$axios.delete("https://back.uesantarosa2.gq/api/user/"+this.dato2.id).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.dialog_del=!1,this.misdatos()})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,icon:"error",color:"red"})}))},onReset(){this.dato.nombre=null,this.dato.inicio=0,this.dato.fin=0},cambiopass(e){this.$q.dialog({title:"CAMBIAR PASSWORD",message:"Ingresar nueva contraseña",prompt:{model:"",type:"password"},cancel:!0,persistent:!0}).onOk((o=>{this.$q.loading.show(),this.$axios.put("https://back.uesantarosa2.gq/api/pass/"+e.row.id,{password:o}).then((e=>{this.$q.loading.hide()}))})).onCancel((()=>{})).onDismiss((()=>{}))}}};var Te=t(9721);Ze.render=De;const Pe=Ze;B()(Ze,"components",{QBtn:N.Z,QDialog:fe.Z,QCard:U.Z,QCardSection:F.Z,QIcon:Q.Z,QForm:O.Z,QInput:M.Z,QSelect:be.Z,QCheckbox:_e.Z,QTable:pe.Z,QTr:he.Z,QTd:ge.Z,QBadge:Te.Z,QAvatar:we.Z,QCardActions:z.Z}),B()(Ze,"directives",{ClosePopup:ve.Z});const Oe={class:"q-pa-md"},Me={class:"text-h7"},Qe=(0,s.Uk)(" REGISTRO DE MATERIAS"),Ne={class:"text-h7"},Fe=(0,s.Uk)(" MODIFICAR DATOS DE MATERIA"),ze=(0,s._)("span",{class:"q-ml-sm"},"Seguro de eliminar Registro.",-1);function Le(e,o,t,a,l,i){const r=(0,s.up)("q-btn"),n=(0,s.up)("q-icon"),d=(0,s.up)("q-card-section"),c=(0,s.up)("q-input"),u=(0,s.up)("q-select"),m=(0,s.up)("q-form"),p=(0,s.up)("q-card"),h=(0,s.up)("q-dialog"),g=(0,s.up)("q-td"),b=(0,s.up)("q-tr"),f=(0,s.up)("q-table"),w=(0,s.up)("q-avatar"),_=(0,s.up)("q-card-actions"),v=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.iD)("div",Oe,[(0,s.Wm)(r,{label:"Nuevo Materia",color:"positive",onClick:o[0]||(o[0]=e=>l.alert=!0),icon:"add_circle",class:"q-mb-xs"}),(0,s.Wm)(h,{modelValue:l.alert,"onUpdate:modelValue":o[4]||(o[4]=e=>l.alert=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{style:{"max-width":"80%",width:"50%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"bg-green-14 text-white"},{default:(0,s.w5)((()=>[(0,s._)("div",Me,[(0,s.Wm)(n,{name:"add_circle"}),Qe])])),_:1}),(0,s.Wm)(d,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{onSubmit:i.onSubmit,onReset:i.onReset,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{filled:"",modelValue:l.dato.nombre,"onUpdate:modelValue":o[1]||(o[1]=e=>l.dato.nombre=e),type:"text",label:"Nombre Materia",hint:"Ingresar materia","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(c,{filled:"",modelValue:l.dato.codigo,"onUpdate:modelValue":o[2]||(o[2]=e=>l.dato.codigo=e),type:"text",label:"Codigo",hint:"Ingresar codigo","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{outlined:"",modelValue:l.grupo,"onUpdate:modelValue":o[3]||(o[3]=e=>l.grupo=e),options:l.grupos,label:"Grupo"},null,8,["modelValue","options"]),(0,s._)("div",null,[(0,s.Wm)(r,{label:"Agregar",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(r,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[v]])])])),_:1},8,["onSubmit","onReset"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(f,{dense:"",filter:l.filter,title:"LISTA DE MATERIAS",rows:l.data,columns:l.columns,"row-key":"name","rows-per-page-options":[50,100]},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(c,{borderless:"",dense:"",debounce:"300",modelValue:l.filter,"onUpdate:modelValue":o[5]||(o[5]=e=>l.filter=e),placeholder:"Search"},{append:(0,s.w5)((()=>[(0,s.Wm)(n,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-opcion":(0,s.w5)((e=>[(0,s.Wm)(b,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{key:"opcion",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{dense:"",round:"",flat:"",color:"yellow",onClick:o=>i.editRow(e),icon:"edit"},null,8,["onClick"]),(0,s.Wm)(r,{dense:"",round:"",flat:"",color:"red",onClick:o=>i.deleteRow(e),icon:"delete"},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["filter","rows","columns"]),(0,s.Wm)(h,{modelValue:l.dialog_mod,"onUpdate:modelValue":o[9]||(o[9]=e=>l.dialog_mod=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{style:{"max-width":"80%",width:"50%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"bg-warning text-white"},{default:(0,s.w5)((()=>[(0,s._)("div",Ne,[(0,s.Wm)(n,{name:"edit"}),Fe])])),_:1}),(0,s.Wm)(d,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{onSubmit:i.onMod,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{filled:"",modelValue:l.dato2.nombre,"onUpdate:modelValue":o[6]||(o[6]=e=>l.dato2.nombre=e),type:"text",label:"Nombre ",hint:"Ingresar Nombre","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(c,{filled:"",modelValue:l.dato2.codigo,"onUpdate:modelValue":o[7]||(o[7]=e=>l.dato2.codigo=e),type:"text",label:"Codigo",hint:"cod","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(u,{outlined:"",modelValue:l.grupo,"onUpdate:modelValue":o[8]||(o[8]=e=>l.grupo=e),options:l.grupos,label:"Grupo"},null,8,["modelValue","options"]),(0,s._)("div",null,[(0,s.Wm)(r,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(r,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[v]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(h,{modelValue:l.dialog_del,"onUpdate:modelValue":o[10]||(o[10]=e=>l.dialog_del=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"row items-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{icon:"clear",color:"red","text-color":"white"}),ze])),_:1}),(0,s.Wm)(_,{align:"right"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{flat:"",label:"Eliminar",color:"deep-orange",onClick:i.onDel},null,8,["onClick"]),(0,s.wy)((0,s.Wm)(r,{flat:"",label:"Cancelar",color:"primary"},null,512),[[v]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const{addToDate:Be}=de.ZP,Ye={data(){return{alert:!1,dialog_mod:!1,dialog_del:!1,filter:"",dato:{},model:"",dato2:{},options:[],props:[],unidades:[],permisos:[],permisos2:[],grupos:[],grupo:{},modelpermiso:!1,uni:{},columns:[{name:"nombre",align:"left",label:"MATERIA ",field:"nombre",sortable:!0},{name:"codigo",align:"left",label:"codigo",field:"codigo",sortable:!0},{name:"grupo",align:"left",label:"Grupo",field:e=>e.grupo["nombre"],sortable:!0},{name:"opcion",align:"center",label:"OPCIÓN",field:"action",sortable:!1}],data:[]}},created(){this.misdatos(),this.misgrupos()},methods:{misgrupos(){this.$axios.get("https://back.uesantarosa2.gq/api/grupo").then((e=>{e.data.forEach((e=>{this.grupos.push({label:e.nombre,grupo:e})})),this.grupo=this.grupos[0]}))},misdatos(){this.$q.loading.show(),this.$axios.get("https://back.uesantarosa2.gq/api/materia").then((e=>{this.data=e.data,this.$q.loading.hide()}))},editRow(e){this.dato2=e.row,this.grupo={label:this.dato2.grupo.nombre,grupo:this.dato2.grupo},this.dato2.unid_id=e.row.unid,this.dialog_mod=!0},deleteRow(e){this.dato2=e.row,this.dialog_del=!0},onSubmit(){this.$q.loading.show(),this.dato.grupo_id=this.grupo.grupo.id,this.$axios.post("https://back.uesantarosa2.gq/api/materia",this.dato).then((e=>{this.alert=!1,this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),this.misdatos()})).catch((e=>{console.log(e.response.data),this.$q.notify({message:e.response.data.message,icon:"close",color:"red"}),this.$q.loading.hide()}))},onMod(){this.$q.loading.show(),this.dato2.grupo_id=this.grupo.grupo.id,this.$axios.put("https://back.uesantarosa2.gq/api/materia/"+this.dato2.id,this.dato2).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialog_mod=!1,this.misdatos()}))},onDel(){this.$q.loading.show(),this.$axios.delete("https://back.uesantarosa2.gq/api/materia/"+this.dato2.id).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.dialog_del=!1,this.misdatos()})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,icon:"error",color:"red"})}))},onReset(){this.dato.nombre="",this.dato.codigo=""}}};Ye.render=Le;const je=Ye;B()(Ye,"components",{QBtn:N.Z,QDialog:fe.Z,QCard:U.Z,QCardSection:F.Z,QIcon:Q.Z,QForm:O.Z,QInput:M.Z,QSelect:be.Z,QTable:pe.Z,QTr:he.Z,QTd:ge.Z,QAvatar:we.Z,QCardActions:z.Z}),B()(Ye,"directives",{ClosePopup:ve.Z});const Ge={class:"q-pa-md"},He={class:"text-h7"},Ke=(0,s.Uk)(" REGISTRO DE CURSO"),Je={class:"text-h7"},Xe=(0,s.Uk)(" MODIFICAR DATOS DE CURSO"),eo=(0,s._)("span",{class:"q-ml-sm"},"Seguro de eliminar Registro.",-1),oo=(0,s._)("span",{class:"q-ml-sm"},"LISTA DE MATERIAS.",-1),to={class:"row"};function ao(e,o,t,a,l,i){const r=(0,s.up)("q-btn"),n=(0,s.up)("q-icon"),d=(0,s.up)("q-card-section"),c=(0,s.up)("q-input"),u=(0,s.up)("q-form"),m=(0,s.up)("q-card"),p=(0,s.up)("q-dialog"),h=(0,s.up)("q-td"),g=(0,s.up)("q-table"),b=(0,s.up)("q-avatar"),f=(0,s.up)("q-card-actions"),w=(0,s.up)("q-checkbox"),_=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.iD)("div",Ge,[(0,s.Wm)(r,{label:"Nuevo Curso",color:"positive",onClick:o[0]||(o[0]=e=>l.alert=!0),icon:"add_circle",class:"q-mb-xs"}),(0,s.Wm)(p,{modelValue:l.alert,"onUpdate:modelValue":o[3]||(o[3]=e=>l.alert=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{style:{"max-width":"80%",width:"50%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"bg-green-14 text-white"},{default:(0,s.w5)((()=>[(0,s._)("div",He,[(0,s.Wm)(n,{name:"add_circle"}),Ke])])),_:1}),(0,s.Wm)(d,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{onSubmit:i.onSubmit,onReset:i.onReset,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{filled:"",modelValue:l.dato.nombre,"onUpdate:modelValue":o[1]||(o[1]=e=>l.dato.nombre=e),type:"text",label:" Curso/ Grado",hint:"Ingresar Curso","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(c,{filled:"",modelValue:l.dato.paralelo,"onUpdate:modelValue":o[2]||(o[2]=e=>l.dato.paralelo=e),type:"text",label:"Paralelo",hint:"Ingresar paralelo","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s._)("div",null,[(0,s.Wm)(r,{label:"Agregar",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(r,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[_]])])])),_:1},8,["onSubmit","onReset"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(g,{dense:"",filter:l.filter,title:"LISTA DE CURSOS Y PARALELOS",rows:l.data,columns:l.columns,"row-key":"name","rows-per-page-options":[50,100]},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(c,{borderless:"",dense:"",debounce:"300",modelValue:l.filter,"onUpdate:modelValue":o[4]||(o[4]=e=>l.filter=e),placeholder:"Search"},{append:(0,s.w5)((()=>[(0,s.Wm)(n,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-opcion":(0,s.w5)((e=>[(0,s.Wm)(h,{key:"opcion",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{dense:"",round:"",flat:"",color:"accent",onClick:o=>i.matRow(e),icon:"class"},null,8,["onClick"]),(0,s.Wm)(r,{dense:"",round:"",flat:"",color:"yellow",onClick:o=>i.editRow(e),icon:"edit"},null,8,["onClick"]),(0,s.Wm)(r,{dense:"",round:"",flat:"",color:"red",onClick:o=>i.deleteRow(e),icon:"delete"},null,8,["onClick"])])),_:2},1032,["props"])])),_:1},8,["filter","rows","columns"]),(0,s.Wm)(p,{modelValue:l.dialog_mod,"onUpdate:modelValue":o[7]||(o[7]=e=>l.dialog_mod=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{style:{"max-width":"80%",width:"50%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"bg-warning text-white"},{default:(0,s.w5)((()=>[(0,s._)("div",Je,[(0,s.Wm)(n,{name:"edit"}),Xe])])),_:1}),(0,s.Wm)(d,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{onSubmit:i.onMod,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{filled:"",modelValue:l.dato2.nombre,"onUpdate:modelValue":o[5]||(o[5]=e=>l.dato2.nombre=e),type:"text",label:"CURSO/GRADO ",hint:"Ingresar Nombre","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(c,{filled:"",modelValue:l.dato2.paralelo,"onUpdate:modelValue":o[6]||(o[6]=e=>l.dato2.paralelo=e),type:"text",label:"paralelo","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s._)("div",null,[(0,s.Wm)(r,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(r,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[_]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(p,{modelValue:l.dialog_del,"onUpdate:modelValue":o[8]||(o[8]=e=>l.dialog_del=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"row items-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{icon:"clear",color:"red","text-color":"white"}),eo])),_:1}),(0,s.Wm)(f,{align:"right"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{flat:"",label:"Eliminar",color:"deep-orange",onClick:i.onDel},null,8,["onClick"]),(0,s.wy)((0,s.Wm)(r,{flat:"",label:"Cancelar",color:"primary"},null,512),[[_]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(p,{modelValue:l.dialog_mat,"onUpdate:modelValue":o[10]||(o[10]=e=>l.dialog_mat=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"row items-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{icon:"class",color:"green","text-color":"white"}),oo])),_:1}),(0,s.Wm)(d,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s._)("div",to,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.materias,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"col-6",key:e},[(0,s.Wm)(w,{modelValue:l.lmaterias,"onUpdate:modelValue":o[9]||(o[9]=e=>l.lmaterias=e),val:e.id,label:e.nombre,color:"teal"},null,8,["modelValue","val","label"])])))),128))])])),_:1}),(0,s.Wm)(f,{align:"right"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{flat:"",label:"Modificar",color:"yellow",onClick:i.updateMat},null,8,["onClick"]),(0,s.wy)((0,s.Wm)(r,{flat:"",label:"Cancelar",color:"primary"},null,512),[[_]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const{addToDate:lo}=de.ZP,so={data(){return{alert:!1,dialog_mod:!1,dialog_del:!1,dialog_mat:!1,filter:"",lmaterias:[],dato:{},model:"",dato2:{},options:[],props:[],unidades:[],permisos:[],permisos2:[],materias:[],curso:{},modelpermiso:!1,uni:{},columns:[{name:"nombre",align:"left",label:"MATERIA ",field:"nombre",sortable:!0},{name:"paralelo",align:"left",label:"paralelo",field:"paralelo",sortable:!0},{name:"opcion",align:"center",label:"OPCIÓN",field:"action",sortable:!1}],data:[]}},created(){this.misdatos(),this.listMateria()},methods:{updateMat(){this.$axios.post("https://back.uesantarosa2.gq/api/upMateriaCurso",{curso:this.curso.id,materias:this.lmaterias}).then((e=>{this.dialog_mat=!1}))},matRow(e){this.curso=e.row,this.lmaterias=[],this.$axios.post("https://back.uesantarosa2.gq/api/recperaMat",{curso:this.curso.id}).then((e=>{console.log(e.data),e.data.forEach((e=>{this.lmaterias.push(e.materia_id)})),this.dialog_mat=!0}))},listMateria(){this.$axios.get("https://back.uesantarosa2.gq/api/materia").then((e=>{this.materias=e.data}))},misdatos(){this.$q.loading.show(),this.$axios.get("https://back.uesantarosa2.gq/api/curso").then((e=>{this.data=e.data,this.$q.loading.hide()}))},editRow(e){this.dato2=e.row,this.dialog_mod=!0},deleteRow(e){this.dato2=e.row,this.dialog_del=!0},onSubmit(){this.$q.loading.show(),this.$axios.post("https://back.uesantarosa2.gq/api/curso",this.dato).then((e=>{this.alert=!1,this.misdatos(),this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),this.misdatos()})).catch((e=>{console.log(e.response.data),this.$q.notify({message:e.response.data.message,icon:"close",color:"red"}),this.$q.loading.hide()}))},onMod(){this.$q.loading.show(),this.$axios.put("https://back.uesantarosa2.gq/api/curso/"+this.dato2.id,this.dato2).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialog_mod=!1,this.misdatos()}))},onDel(){this.$q.loading.show(),this.$axios.delete("https://back.uesantarosa2.gq/api/curso/"+this.dato2.id).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.dialog_del=!1,this.misdatos()})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,icon:"error",color:"red"})}))},onReset(){this.dato.nombre="",this.dato.codigo=""}}};so.render=ao;const io=so;B()(so,"components",{QBtn:N.Z,QDialog:fe.Z,QCard:U.Z,QCardSection:F.Z,QIcon:Q.Z,QForm:O.Z,QInput:M.Z,QTable:pe.Z,QTr:he.Z,QTd:ge.Z,QAvatar:we.Z,QCardActions:z.Z,QCheckbox:_e.Z}),B()(so,"directives",{ClosePopup:ve.Z});const ro={class:"q-pa-md"},no=(0,s._)("div",{class:"text-h6"},"LISTADO DE LIBROS",-1),co={class:"text-h6"},uo=(0,s.Uk)(" Agregar Libro"),mo={class:"row"},po={class:"col-6"},ho={class:"col-6"},go={class:"col-6"},bo={class:"col-3"},fo={class:"col-3"},wo={class:"col-6"},_o=(0,s._)("label",{for:""},"ARCHIVO",-1),vo=(0,s._)("br",null,null,-1),xo={key:0,class:"red"},qo={class:"col-6"},Wo=(0,s._)("label",{for:""},"IMAGEN",-1),yo=["href"],Vo={style:{width:"80px",height:"80px",display:"block"}},Co=(0,s._)("div",{class:"text-h6"},"Modificar",-1),ko={class:"row"},Eo={class:"col-6"},So={class:"col-6"},Ro={class:"col-6"},Ao=(0,s._)("br",null,null,-1),Io=(0,s._)("div",{class:"text-h6"},"Archivo Subir",-1),Uo=(0,s._)("br",null,null,-1),Do=(0,s._)("div",{class:"text-h6"},"Imagen Subir",-1),$o=(0,s._)("br",null,null,-1),Zo=(0,s._)("span",{class:"q-ml-sm"},"Seguro de eliminar Registro.",-1);function To(e,o,t,a,l,i){const r=(0,s.up)("q-btn"),n=(0,s.up)("q-icon"),d=(0,s.up)("q-card-section"),c=(0,s.up)("q-input"),u=(0,s.up)("q-select"),m=(0,s.up)("q-form"),p=(0,s.up)("q-card"),h=(0,s.up)("q-dialog"),g=(0,s.up)("q-td"),b=(0,s.up)("q-img"),f=(0,s.up)("q-btn-group"),w=(0,s.up)("q-table"),_=(0,s.up)("q-avatar"),v=(0,s.up)("q-card-actions"),x=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.iD)("div",ro,[no,(0,s.Wm)(r,{label:"Nuevo Libro",color:"positive",onClick:o[0]||(o[0]=e=>l.alert=!0),icon:"add_circle",class:"q-mb-xs"}),(0,s.Wm)(h,{modelValue:l.alert,"onUpdate:modelValue":o[8]||(o[8]=e=>l.alert=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{style:{width:"700px","max-width":"80vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"bg-green-14 text-white"},{default:(0,s.w5)((()=>[(0,s._)("div",co,[(0,s.Wm)(n,{name:"add_circle"}),uo])])),_:1}),(0,s.Wm)(d,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{onSubmit:i.onSubmit,onReset:i.onReset,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",mo,[(0,s._)("div",po,[(0,s.Wm)(c,{outlined:"",dense:"",modelValue:l.dato.titulo,"onUpdate:modelValue":o[1]||(o[1]=e=>l.dato.titulo=e),type:"text",label:"Titulo","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa titulo"]},null,8,["modelValue","rules"])]),(0,s._)("div",ho,[(0,s.Wm)(c,{outlined:"",dense:"",modelValue:l.dato.autor,"onUpdate:modelValue":o[2]||(o[2]=e=>l.dato.autor=e),type:"text",label:"Autor","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa autor"]},null,8,["modelValue","rules"])]),(0,s._)("div",go,[(0,s.Wm)(c,{outlined:"",dense:"",modelValue:l.dato.editorial,"onUpdate:modelValue":o[3]||(o[3]=e=>l.dato.editorial=e),type:"text",label:"Editorial","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa editorial"]},null,8,["modelValue","rules"])]),(0,s._)("div",bo,[(0,s.Wm)(u,{dense:"",outlined:"",modelValue:l.materia,"onUpdate:modelValue":o[4]||(o[4]=e=>l.materia=e),options:l.materias,label:"Materia",required:""},null,8,["modelValue","options"])]),(0,s._)("div",fo,[(0,s.Wm)(u,{dense:"",outlined:"",modelValue:l.curso,"onUpdate:modelValue":o[5]||(o[5]=e=>l.curso=e),options:l.cursos,label:"Curso",required:""},null,8,["modelValue","options"])]),(0,s._)("div",wo,[_o,vo,(0,s._)("input",{type:"file",onChange:o[6]||(o[6]=(...e)=>i.getArch&&i.getArch(...e))},null,32),l.porcentaje>0?((0,s.wg)(),(0,s.iD)("div",xo,"Subiendo ..."+(0,j.zw)(l.porcentaje)+"%",1)):(0,s.kq)("",!0)]),(0,s._)("div",qo,[Wo,(0,s._)("input",{type:"file",onChange:o[7]||(o[7]=(...e)=>i.getImage&&i.getImage(...e))},null,32)]),(0,s._)("div",null,[(0,s.Wm)(r,{label:"Crear",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(r,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[x]])])])])),_:1},8,["onSubmit","onReset"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(w,{title:"Libros",rows:l.data,columns:l.columns,filter:l.filter,"row-key":"name","rows-per-page-options":[50,100,200,0]},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(c,{borderless:"",dense:"",debounce:"300",modelValue:l.filter,"onUpdate:modelValue":o[9]||(o[9]=e=>l.filter=e),placeholder:"Buscar"},{append:(0,s.w5)((()=>[(0,s.Wm)(n,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-archivo":(0,s.w5)((e=>[(0,s.Wm)(g,{key:"archivo",props:e},{default:(0,s.w5)((()=>[(0,s._)("a",{href:l.url+"/../archivos/"+e.row.archivo,target:"_blank"},(0,j.zw)(e.row.archivo),9,yo)])),_:2},1032,["props"])])),"body-cell-imagen":(0,s.w5)((e=>[(0,s.Wm)(g,{key:"imagen",props:e,style:{display:"flex",height:"80px","justify-content":"center"}},{default:(0,s.w5)((()=>[(0,s._)("div",Vo,[(0,s.Wm)(b,{src:l.url+"/../imagenes/"+e.row.imagen},null,8,["src"])])])),_:2},1032,["props"])])),"body-cell-opcion":(0,s.w5)((e=>[(0,s.Wm)(g,{key:"opcion",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{dense:"",round:"",flat:"",color:"yellow",onClick:o=>i.editRow(e),icon:"edit"},null,8,["onClick"]),(0,s.Wm)(r,{dense:"",round:"",flat:"",color:"accent",onClick:o=>i.archRow(e),icon:"upload_file"},null,8,["onClick"]),(0,s.Wm)(r,{dense:"",round:"",flat:"",color:"accent",onClick:o=>i.imgRow(e),icon:"image"},null,8,["onClick"]),(0,s.Wm)(r,{dense:"",round:"",flat:"",color:"red",onClick:o=>i.deleteRow(e),icon:"delete"},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"]),(0,s.Wm)(h,{modelValue:l.dialog_mod,"onUpdate:modelValue":o[15]||(o[15]=e=>l.dialog_mod=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"bg-amber-14 text-white"},{default:(0,s.w5)((()=>[Co])),_:1}),(0,s.Wm)(d,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{onSubmit:i.onMod,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("div",ko,[(0,s._)("div",Eo,[(0,s.Wm)(c,{outlined:"",dense:"",modelValue:l.dato2.titulo,"onUpdate:modelValue":o[10]||(o[10]=e=>l.dato2.titulo=e),type:"text",label:"Titulo","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa titulo"]},null,8,["modelValue","rules"])]),(0,s._)("div",So,[(0,s.Wm)(c,{outlined:"",dense:"",modelValue:l.dato2.autor,"onUpdate:modelValue":o[11]||(o[11]=e=>l.dato2.autor=e),type:"text",label:"Autor","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa autor"]},null,8,["modelValue","rules"])]),(0,s._)("div",Ro,[(0,s.Wm)(c,{outlined:"",dense:"",modelValue:l.dato2.editorial,"onUpdate:modelValue":o[12]||(o[12]=e=>l.dato2.editorial=e),type:"text",label:"Editorial","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor editorial"]},null,8,["modelValue","rules"])]),(0,s.Wm)(u,{outlined:"",modelValue:l.materia,"onUpdate:modelValue":o[13]||(o[13]=e=>l.materia=e),options:l.materias,label:"Materia",required:""},null,8,["modelValue","options"]),(0,s.Wm)(u,{outlined:"",modelValue:l.curso,"onUpdate:modelValue":o[14]||(o[14]=e=>l.curso=e),options:l.cursos,label:"Curso",required:""},null,8,["modelValue","options"])]),(0,s._)("div",null,[Ao,(0,s.Wm)(r,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(r,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[x]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(h,{modelValue:l.dialog_arch,"onUpdate:modelValue":o[17]||(o[17]=e=>l.dialog_arch=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"bg-amber-14 text-white"},{default:(0,s.w5)((()=>[Io])),_:1}),(0,s.Wm)(d,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{onSubmit:i.onArch,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("input",{type:"file",onChange:o[16]||(o[16]=(...e)=>i.getArch&&i.getArch(...e))},null,32),(0,s._)("div",null,[Uo,(0,s.Wm)(r,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(r,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[x]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(h,{modelValue:l.dialog_img,"onUpdate:modelValue":o[19]||(o[19]=e=>l.dialog_img=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"bg-amber-14 text-white"},{default:(0,s.w5)((()=>[Do])),_:1}),(0,s.Wm)(d,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{onSubmit:i.onImg,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("input",{type:"file",onChange:o[18]||(o[18]=(...e)=>i.getImage&&i.getImage(...e))},null,32),(0,s._)("div",null,[$o,(0,s.Wm)(r,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(r,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[x]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(h,{modelValue:l.dialog_del,"onUpdate:modelValue":o[20]||(o[20]=e=>l.dialog_del=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"row items-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{icon:"clear",color:"red","text-color":"white"}),Zo])),_:1}),(0,s.Wm)(v,{align:"right"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{flat:"",label:"Eliminar",color:"deep-orange",onClick:i.onDel},null,8,["onClick"]),(0,s.wy)((0,s.Wm)(r,{flat:"",label:"Cancelar",color:"primary"},null,512),[[x]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const Po={data(){return{url:"https://back.uesantarosa2.gq/api",imagen:null,archivo:null,fecha:{inicio:de.ZP.formatDate(Date.now(),"YYYY-MM-DD"),fin:de.ZP.formatDate(Date.now(),"YYYY-MM-DD")},alert:!1,dialog_mod:!1,dialog_del:!1,dialog_ver:!1,dialog_arch:!1,dialog_img:!1,boolmod:!1,nameFile:"",filter:"",filter2:"",dato:{fondo:"APMT",gestion:de.ZP.formatDate(Date.now(),"YYYY"),tomo:"1",numtotal:"1"},dato2:{},subc:{},modprod:{},cat:[],subcat:[],materias:[],materia:{},cursos:[],curso:{},columns:[{name:"titulo",label:"TITULO",align:"left",field:"titulo",sortable:!0},{name:"autor",label:"AUTOR",align:"left",field:"autor",sortable:!0},{name:"editorial",align:"center",label:"EDITORIAL",field:"editorial",sortable:!0},{name:"archivo",align:"center",label:"ARCHIVO",field:"archivo",sortable:!0},{name:"imagen",align:"center",label:"IMAGEN",field:"imagen",sortable:!0},{name:"materia",align:"center",label:"MATERIA",field:e=>e.materia.nombre,sortable:!0},{name:"curso",align:"center",label:"CURSO",field:e=>e.curso.nombre+" "+e.curso.paralelo,sortable:!0},{name:"opcion",label:"OPCION",field:"opcion"}],data:[],prod2:[],porcentaje:0}},created(){this.mismaterias(),this.misdatos(),this.miscursos()},methods:{mismaterias(){this.materias=[],this.$axios.get("https://back.uesantarosa2.gq/api/materia").then((e=>{e.data.forEach((e=>{this.materias.push({label:e.nombre,r:e})})),this.materia=this.materias[0]}))},miscursos(){this.cursos=[],this.$axios.get("https://back.uesantarosa2.gq/api/curso").then((e=>{e.data.forEach((e=>{this.cursos.push({label:e.nombre+" "+e.paralelo,r:e})})),this.curso=this.cursos[0]}))},getImage(e){this.imagen=e.target.files[0]},getArch(e){this.archivo=e.target.files[0],this.porcentaje=0;const o=new FormData;o.append("file",this.archivo),this.$axios.post("https://back.uesantarosa2.gq/api/upload",o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{this.porcentaje=Math.round(e.loaded/e.total*100)}}).then((e=>{this.nameFile=e.data}))},misdatos(){this.$q.loading.show(),this.$axios.get("https://back.uesantarosa2.gq/api/libro").then((e=>{this.data=e.data,this.$q.loading.hide()}))},editRow(e){this.onReset(),this.boolmod=!1,this.dato2=e.row,this.materia={label:this.dato2.materia.nombre,r:this.dato2.materia},this.curso={label:this.dato2.curso.nombre+" "+this.dato2.curso.paralelo,r:this.dato2.curso},this.dialog_mod=!0},archRow(e){this.onReset(),this.dato2=e.row,this.dialog_arch=!0},imgRow(e){this.onReset(),this.dato2=e.row,this.dialog_img=!0},verRow(e){this.dato2=e.row,this.sub=e.row.subcategorias,this.dialog_ver=!0},deleteRow(e){this.dato2=e.row,this.dialog_del=!0},onSubmit(){this.$q.loading.show();var e=new FormData;e.append("archivo",this.nameFile),e.append("imagen",this.imagen),e.append("titulo",this.dato.titulo),e.append("autor",this.dato.autor),e.append("editorial",this.dato.editorial),e.append("materia_id",this.materia.r.id),e.append("curso_id",this.curso.r.id),this.$axios.post("https://back.uesantarosa2.gq/api/libro",e).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),this.alert=!1,this.misdatos()}))},onMod(){this.$q.loading.show(),this.dato2.materia_id=this.materia.r.id,this.dato2.curso_id=this.curso.r.id,this.$axios.put("https://back.uesantarosa2.gq/api/libro/"+this.dato2.id,this.dato2).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialog_mod=!1,this.misdatos()}))},onArch(){var e=new FormData;e.append("id",this.dato2.id),e.append("titulo",this.dato2.titulo),e.append("archivo",this.archivo),this.$axios.post("https://back.uesantarosa2.gq/api/uparchivo",e).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.misdatos(),this.dialog_arch=!1}))},onImg(){var e=new FormData;e.append("id",this.dato2.id),e.append("titulo",this.dato2.titulo),e.append("imagen",this.imagen),this.$axios.post("https://back.uesantarosa2.gq/api/upimagen",e).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.misdatos(),this.dialog_arch=!1}))},onDel(){this.$q.loading.show(),this.$axios.delete("https://back.uesantarosa2.gq/api/libro/"+this.dato2.id).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.dialog_del=!1,this.misdatos()}))},onReset(){this.dato.titulo=null,this.dato.autor=null,this.dato.editorial=null}}};var Oo=t(4027),Mo=t(6375);Po.render=To;const Qo=Po;B()(Po,"components",{QBtn:N.Z,QDialog:fe.Z,QCard:U.Z,QCardSection:F.Z,QIcon:Q.Z,QForm:O.Z,QInput:M.Z,QSelect:be.Z,QTable:pe.Z,QTd:ge.Z,QImg:Oo.Z,QBtnGroup:Mo.Z,QAvatar:we.Z,QCardActions:z.Z}),B()(Po,"directives",{ClosePopup:ve.Z});const No={class:"q-pa-md"},Fo=(0,s._)("div",{class:"text-h4",align:"center"},"BIBLIOTECA",-1),zo={class:"row"},Lo={class:"col-3"},Bo={class:"col-3"},Yo={class:"col-3"},jo=(0,s._)("br",null,null,-1),Go={class:"row"},Ho={class:"absolute-bottom text-subtitle2 text-center"},Ko=(0,s._)("br",null,null,-1);function Jo(e,o,t,a,l,i){const r=(0,s.up)("q-select"),n=(0,s.up)("q-btn"),d=(0,s.up)("q-img"),c=(0,s.up)("q-card");return(0,s.wg)(),(0,s.iD)("div",No,[Fo,(0,s._)("div",zo,[(0,s._)("div",Lo,[(0,s.Wm)(r,{outlined:"",modelValue:l.curso,"onUpdate:modelValue":o[0]||(o[0]=e=>l.curso=e),options:l.cursos,label:"Curso"},null,8,["modelValue","options"])]),(0,s._)("div",Bo,[(0,s.Wm)(r,{outlined:"",modelValue:l.materia,"onUpdate:modelValue":o[1]||(o[1]=e=>l.materia=e),options:l.materias,label:"Materia"},null,8,["modelValue","options"])]),(0,s._)("div",Yo,[(0,s.Wm)(n,{color:"info",icon:"search",label:"Buscar",onClick:i.buscar},null,8,["onClick"])])]),jo,(0,s._)("div",Go,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.data,(e=>((0,s.wg)(),(0,s.j4)(c,{class:"my-card",style:{width:"200px",height:"200px",margin:"5px"},key:e},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{src:l.url+"/../imagenes/"+e.imagen,style:{width:"200px",height:"200px"},onClick:o=>i.descargar(e)},{default:(0,s.w5)((()=>[(0,s._)("div",Ho,[(0,s.Uk)((0,j.zw)(e.titulo),1),Ko,(0,s.Uk)((0,j.zw)(e.autor),1)])])),_:2},1032,["src","onClick"])])),_:2},1024)))),128))])])}const Xo={data(){return{url:"https://back.uesantarosa2.gq/api",subc:{},modprod:{},cat:[],subcat:[],materias:[],materia:{},cursos:[],curso:{},libro:{},data:[],prod2:[]}},created(){this.mismaterias(),this.miscursos()},methods:{descargar(e){var o=this.url+"/../archivos/"+e.archivo;window.open(o,"Download")},mismaterias(){this.materias=[],this.$axios.get("https://back.uesantarosa2.gq/api/materia").then((e=>{e.data.forEach((e=>{e.label=e.nombre,this.materias.push(e)})),this.materia=this.materias[0]}))},miscursos(){this.cursos=[],this.$axios.get("https://back.uesantarosa2.gq/api/curso").then((e=>{e.data.forEach((e=>{e.label=e.nombre+" "+e.paralelo,this.cursos.push(e)})),this.curso=this.cursos[0]}))},misdatos(){this.$q.loading.show(),this.$axios.get("https://back.uesantarosa2.gq/api/libro").then((e=>{console.log(e.data),this.data=e.data,this.$q.loading.hide()}))},buscar(){this.$q.loading.show(),this.$axios.post("https://back.uesantarosa2.gq/api/buscarlibro",{materia_id:this.materia.id,curso_id:this.curso.id}).then((e=>{console.log(e.data),this.data=e.data,this.$q.loading.hide()}))}}};Xo.render=Jo;const et=Xo;B()(Xo,"components",{QSelect:be.Z,QBtn:N.Z,QCard:U.Z,QImg:Oo.Z});const ot=(0,s._)("div",{class:"text-h6"},"Nuevo padre de familia",-1),tt={class:"row"},at={class:"col-12 col-sm-2 q-pa-xs"},lt={class:"col-12 col-sm-2 q-pa-xs"},st={class:"col-12 col-sm-2 q-pa-xs"},it={class:"col-12 col-sm-2 q-pa-xs"},rt={class:"col-12 col-sm-2 q-pa-xs"},nt={class:"col-12 col-sm-12 q-pa-xs"},dt={class:"row"},ct={class:"col-12"},ut=(0,s.Uk)(" Padre de familia "),mt={class:"col-12"},pt={class:"row"},ht={class:"col-12 col-sm-8 q-pa-xs"},gt=(0,s.Uk)(" No exite padre "),bt={class:"col-12 col-sm-4 q-pa-xs flex flex-center"},ft={class:"col-12"},wt=(0,s.Uk)(" Datos estudiante "),_t={class:"col-12 col-sm-2 q-pa-xs"},vt={class:"col-12 col-sm-2 q-pa-xs"},xt={class:"col-12 col-sm-2 q-pa-xs"},qt={class:"col-12 col-sm-2 q-pa-xs"},Wt={class:"col-12 col-sm-2 q-pa-xs"},yt={class:"col-12 col-sm-2 q-pa-xs"},Vt={class:"col-12 col-sm-2 q-pa-xs"},Ct={class:"col-12 col-sm-2 q-pa-xs"},kt={class:"col-12 col-sm-2 q-pa-xs"},Et={class:"col-12 col-sm-3 q-pa-xs"},St={class:"col-12 col-sm-3 q-pa-xs flex flex-center"};function Rt(e,o,t,l,i,r){const n=(0,s.up)("q-card-section"),d=(0,s.up)("q-input"),c=(0,s.up)("q-select"),u=(0,s.up)("q-btn"),m=(0,s.up)("q-card-actions"),p=(0,s.up)("q-form"),h=(0,s.up)("q-card"),g=(0,s.up)("q-dialog"),b=(0,s.up)("q-badge"),f=(0,s.up)("q-item-section"),w=(0,s.up)("q-item"),_=(0,s.up)("q-td"),v=(0,s.up)("q-icon"),x=(0,s.up)("q-table"),q=(0,s.up)("q-page"),W=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(q,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,{"full-width":"",modelValue:i.dialogpadre,"onUpdate:modelValue":o[5]||(o[5]=e=>i.dialogpadre=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[ot])),_:1}),(0,s.Wm)(n,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{onSubmit:(0,a.iM)(r.guardarpadre,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",tt,[(0,s._)("div",at,[(0,s.Wm)(d,{dense:"",outlined:"",style:{"text-transform":"uppercase"},label:"nombres",modelValue:i.newpadre.nombres,"onUpdate:modelValue":o[0]||(o[0]=e=>i.newpadre.nombres=e)},null,8,["modelValue"])]),(0,s._)("div",lt,[(0,s.Wm)(d,{dense:"",outlined:"",style:{"text-transform":"uppercase"},label:"apellidos",modelValue:i.newpadre.apellidos,"onUpdate:modelValue":o[1]||(o[1]=e=>i.newpadre.apellidos=e)},null,8,["modelValue"])]),(0,s._)("div",st,[(0,s.Wm)(d,{dense:"",outlined:"",label:"carnet",modelValue:i.newpadre.carnet,"onUpdate:modelValue":o[2]||(o[2]=e=>i.newpadre.carnet=e)},null,8,["modelValue"])]),(0,s._)("div",it,[(0,s.Wm)(c,{dense:"",outlined:"",label:"expedido",modelValue:i.newpadre.expedido,"onUpdate:modelValue":o[3]||(o[3]=e=>i.newpadre.expedido=e),options:["OR","LP","CB","PT","BE","CH","PA","SC","TA"]},null,8,["modelValue"])]),(0,s._)("div",rt,[(0,s.Wm)(d,{dense:"",outlined:"",label:"Fecha nacimiento",type:"date",modelValue:i.newpadre.fechanac,"onUpdate:modelValue":o[4]||(o[4]=e=>i.newpadre.fechanac=e)},null,8,["modelValue"])]),(0,s._)("div",nt,[(0,s.Wm)(m,{align:"right",class:"bg-white text-teal"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{type:"submit",dense:"",icon:"send",label:"Crear",color:"positive"}),(0,s.wy)((0,s.Wm)(u,{color:"negative",dense:"",icon:"delete",label:"Cerrar"},null,512),[[W]])])),_:1})])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s._)("div",dt,[(0,s._)("div",ct,[(0,s.Wm)(b,{color:"primary",class:"full-width text-center"},{default:(0,s.w5)((()=>[ut])),_:1})]),(0,s._)("div",mt,[(0,s.Wm)(p,{onSubmit:(0,a.iM)(r.guardar,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",pt,[(0,s._)("div",ht,[(0,s.Wm)(c,{outlined:"",dense:"",modelValue:i.padre,"onUpdate:modelValue":o[6]||(o[6]=e=>i.padre=e),"use-input":"","input-debounce":"0",label:"Padre de familia",options:i.padres,onFilter:r.filterFn},{"no-option":(0,s.w5)((()=>[(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(f,{class:"text-grey"},{default:(0,s.w5)((()=>[gt])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])]),(0,s._)("div",bt,[(0,s.Wm)(u,{dense:"",color:"primary",icon:"add_circle",label:"DATOS PADRE/MADRE/TUTOR",onClick:o[7]||(o[7]=e=>i.dialogpadre=!0)})]),(0,s._)("div",ft,[(0,s.Wm)(b,{color:"primary",class:"full-width text-center"},{default:(0,s.w5)((()=>[wt])),_:1})]),(0,s._)("div",_t,[(0,s.Wm)(d,{dense:"",outlined:"",label:"Carnet",modelValue:i.dato.carnet,"onUpdate:modelValue":o[8]||(o[8]=e=>i.dato.carnet=e),onKeyup:r.buscarestudiante},null,8,["modelValue","onKeyup"])]),(0,s._)("div",vt,[(0,s.Wm)(d,{dense:"",outlined:"",label:"Domicilio",modelValue:i.dato.domicilio,"onUpdate:modelValue":o[9]||(o[9]=e=>i.dato.domicilio=e)},null,8,["modelValue"])]),(0,s._)("div",xt,[(0,s.Wm)(d,{dense:"",outlined:"",label:"Paterno",modelValue:i.dato.paterno,"onUpdate:modelValue":o[10]||(o[10]=e=>i.dato.paterno=e),style:{"text-transform":"uppercase"}},null,8,["modelValue"])]),(0,s._)("div",qt,[(0,s.Wm)(d,{dense:"",outlined:"",label:"Materno",modelValue:i.dato.materno,"onUpdate:modelValue":o[11]||(o[11]=e=>i.dato.materno=e),style:{"text-transform":"uppercase"}},null,8,["modelValue"])]),(0,s._)("div",Wt,[(0,s.Wm)(d,{dense:"",outlined:"",label:"Nombres",modelValue:i.dato.nombres,"onUpdate:modelValue":o[12]||(o[12]=e=>i.dato.nombres=e),style:{"text-transform":"uppercase"}},null,8,["modelValue"])]),(0,s._)("div",yt,[(0,s.Wm)(c,{dense:"",outlined:"",label:"Genero",modelValue:i.dato.sexo,"onUpdate:modelValue":o[13]||(o[13]=e=>i.dato.sexo=e),options:["F","M"]},null,8,["modelValue"])]),(0,s._)("div",Vt,[(0,s.Wm)(d,{dense:"",outlined:"",label:"Celular",modelValue:i.dato.celular,"onUpdate:modelValue":o[14]||(o[14]=e=>i.dato.celular=e)},null,8,["modelValue"])]),(0,s._)("div",Ct,[(0,s.Wm)(d,{dense:"",outlined:"",label:"Fecha nacimiento",type:"date",modelValue:i.dato.fechanac,"onUpdate:modelValue":o[15]||(o[15]=e=>i.dato.fechanac=e)},null,8,["modelValue"])]),(0,s._)("div",kt,[(0,s.Wm)(d,{dense:"",outlined:"",label:"RUDE",type:"text",modelValue:i.dato.rude,"onUpdate:modelValue":o[16]||(o[16]=e=>i.dato.rude=e)},null,8,["modelValue"])]),(0,s._)("div",Et,[(0,s.Wm)(c,{outlined:"",dense:"",label:"Curso",modelValue:i.curso,"onUpdate:modelValue":[o[17]||(o[17]=e=>i.curso=e),r.listado],options:i.cursos},null,8,["modelValue","options","onUpdate:modelValue"])]),(0,s._)("div",St,[i.dato.id>0?((0,s.wg)(),(0,s.j4)(u,{key:0,dense:"",color:"warning",class:"full-width full-height",icon:"edit",label:"Editar",type:"submit"})):((0,s.wg)(),(0,s.j4)(u,{key:1,dense:"",color:"primary",class:"full-width full-height",icon:"add_circle",label:"Crear",type:"submit"}))])])])),_:1},8,["onSubmit"]),(0,s.Wm)(x,{dense:"",title:"Estudiantes",rows:i.estudiantes,columns:i.columns,filter:i.filter},{"body-cell-curso":(0,s.w5)((e=>[(0,s.Wm)(_,{props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.curso[0].nombre),1)])),_:2},1032,["props"])])),"body-cell-paralelo":(0,s.w5)((e=>[(0,s.Wm)(_,{props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.curso[0].paralelo),1)])),_:2},1032,["props"])])),"body-cell-opcion":(0,s.w5)((e=>[(0,s.Wm)(_,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{label:"Boleta",size:"xs",icon:"print",onClick:o=>r.imprimir(e.row),color:"primary"},null,8,["onClick"])])),_:2},1032,["props"])])),"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{outlined:"",dense:"",debounce:"300",modelValue:i.filter,"onUpdate:modelValue":o[18]||(o[18]=e=>i.filter=e),placeholder:"Buscar alumno"},{append:(0,s.w5)((()=>[(0,s.Wm)(v,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["rows","columns","filter"]),(0,s.Wm)(x,{dense:"",title:"Alumnos por cursos",rows:i.cantidadcursos,columns:i.columnscursos,filter:i.filercursos},{"body-cell-nombre":(0,s.w5)((e=>[(0,s.Wm)(_,{props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.nombre)+" "+(0,j.zw)(e.row.paralelo),1)])),_:2},1032,["props"])])),"body-cell-cantidad":(0,s.w5)((e=>[(0,s.Wm)(_,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{color:e.row.cantidad<10?"positive":e.row.cantidad<20?"warning":"negative"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.cantidad),1)])),_:2},1032,["color"])])),_:2},1032,["props"])])),"top-right":(0,s.w5)((()=>[(0,s.Wm)(d,{outlined:"",dense:"",debounce:"300",modelValue:i.filercursos,"onUpdate:modelValue":o[19]||(o[19]=e=>i.filercursos=e),placeholder:"Buscar curso"},{append:(0,s.w5)((()=>[(0,s.Wm)(v,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["rows","columns","filter"])])])])),_:1})}const At={data(){return{filter:"",dato:{fechanac:de.ZP.formatDate(Date.now(),"YYYY-MM-DD")},padres:[],padres2:[],padre:{},newpadre:{expedido:"OR",fechanac:de.ZP.formatDate(Date.now(),"YYYY-MM-DD"),tipo:"PADRE"},dialogpadre:!1,cursos:[],curso:{},cantidadcursos:[],estudiantes:[],filercursos:"",columnscursos:[{name:"nombre",align:"left",label:"Curso",field:"nombre",sortable:!0},{name:"cantidad",align:"left",label:"cantidad",field:"cantidad",sortable:!0},{name:"m",align:"left",label:"Varon",field:"m",sortable:!0},{name:"f",align:"left",label:"Mujer",field:"f",sortable:!0},{name:"opciones",align:"left",label:"opciones",field:"opciones",sortable:!0}],columns:[{name:"carnet",required:!0,label:"Carnet",align:"left",field:"carnet",sortable:!0},{name:"nombres",align:"center",label:"nombres",field:"nombres",sortable:!0},{name:"paterno",align:"center",label:"paterno",field:"paterno",sortable:!0},{name:"materno",align:"center",label:"materno",field:"materno",sortable:!0},{name:"curso",align:"center",label:"curso",field:e=>e.curso[0].nombre,sortable:!0},{name:"paralelo",align:"center",label:"paralelo",field:e=>e.curso[0].paralelo,sortable:!0},{name:"opcion",align:"center",label:"opcion",field:"opcion",sortable:!0}]}},created(){this.mispadres(),this.$axios.get("https://back.uesantarosa2.gq/api/curso").then((e=>{this.cursos=[],e.data.forEach((e=>{let o=e;o.label=e.nombre+" "+e.paralelo,this.cursos.push(o)})),this.curso=this.cursos[0]})),this.listado()},methods:{filterFn(e,o){o(""!==e?()=>{const o=e.toLowerCase();this.padres=this.padres2.filter((e=>e.label.toLowerCase().indexOf(o)>-1))}:()=>{this.padres=this.padres})},imprimir(e){this.$axios.get("https://back.uesantarosa2.gq/api/boleta/"+e.id).then((e=>{var o=window.open("","myWindow","width=1200,height=500");o.document.write(e.data),o.document.close(),o.focus(),o.print(),o.close()}))},listado(){this.$q.loading.show(),this.estudiantes=[],this.$axios.post("https://back.uesantarosa2.gq/api/listado").then((e=>{e.data.forEach((e=>{e.curso.length>0&&this.estudiantes.push(e)})),this.$q.loading.hide(),console.log(this.estudiantes)})),this.$axios.get("https://back.uesantarosa2.gq/api/estudiante/create").then((e=>{this.cantidadcursos=e.data}))},buscarestudiante(){this.$axios.get("https://back.uesantarosa2.gq/api/estudiante/"+this.dato.carnet).then((e=>{""!=e.data?(this.dato.id=e.data.id,this.dato.paterno=e.data.paterno,this.dato.materno=e.data.materno,this.dato.nombres=e.data.nombres,this.dato.celular=e.data.celular,this.dato.fechanac=e.data.fechanac,this.dato.domicilio=e.data.domicilio,this.dato.rude=e.data.rude,this.dato.sexo=e.data.sexo):this.dato={carnet:this.dato.carnet,fechanac:de.ZP.formatDate(Date.now(),"YYYY-MM-DD")}}))},guardar(){this.$q.loading.show(),this.dato.curso_id=this.curso.id,this.dato.padre_id=this.padre.id,this.dato.id>0?this.$axios.put("https://back.uesantarosa2.gq/api/estudiante/"+this.dato.id,this.dato).then((e=>{this.dato={fechanac:de.ZP.formatDate(Date.now(),"YYYY-MM-DD"),tipo:"PADRE"},this.listado(),this.$q.notify({message:"Estudiante modificado!!!",color:"green",icon:"done"})})).catch((e=>{this.$q.notify({message:e.response.data.message,color:"red",icon:"red"}),this.$q.loading.hide()})):this.$axios.post("https://back.uesantarosa2.gq/api/estudiante",this.dato).then((e=>{this.dato={fechanac:de.ZP.formatDate(Date.now(),"YYYY-MM-DD"),tipo:"PADRE"},this.listado(),this.$q.notify({message:"Estudiante inscrito!!!",color:"green",icon:"done"})})).catch((e=>{this.$q.notify({message:e.response.data.message,color:"red",icon:"red"}),this.$q.loading.hide()}))},guardarpadre(){this.$q.loading.show(),this.newpadre.tipo="PADRE",this.$axios.post("https://back.uesantarosa2.gq/api/padre",this.newpadre).then((e=>{this.newpadre={expedido:"OR",fechanac:de.ZP.formatDate(Date.now(),"YYYY-MM-DD"),tipo:"PADRE"},this.mispadres(),this.$q.loading.hide(),this.dialogpadre=!1,this.$q.notify({message:"Padre tutor inscrito!!!",color:"green",icon:"done"})})).catch((e=>{this.$q.notify({message:e.response.data.message,color:"red",icon:"red"}),this.$q.loading.hide()}))},mispadres(){this.$axios.get("https://back.uesantarosa2.gq/api/padre").then((e=>{this.padres=[],e.data.forEach((e=>{let o=e;o.label=e.nombres+" "+e.apellidos,this.padres.push(o)})),this.padres2=this.padres,this.padre=this.padres[0]}))}}};var It=t(3414),Ut=t(2035);At.render=Rt;const Dt=At;B()(At,"components",{QPage:I.Z,QDialog:fe.Z,QCard:U.Z,QCardSection:F.Z,QForm:O.Z,QSelect:be.Z,QInput:M.Z,QCardActions:z.Z,QBtn:N.Z,QBadge:Te.Z,QItem:It.Z,QItemSection:Ut.Z,QTable:pe.Z,QTd:ge.Z,QIcon:Q.Z}),B()(At,"directives",{ClosePopup:ve.Z});const $t={class:"row"},Zt={class:"col-3 q-pa-xs"},Tt={class:"col-3"},Pt={class:"col-3"},Ot={class:"col-12"};function Mt(e,o,t,a,l,i){const r=(0,s.up)("q-select"),n=(0,s.up)("q-btn"),d=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-td"),m=(0,s.up)("q-img"),p=(0,s.up)("q-badge"),h=(0,s.up)("q-tr"),g=(0,s.up)("q-table"),b=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(b,null,{default:(0,s.w5)((()=>[(0,s._)("div",$t,[(0,s._)("div",Zt,[(0,s.Wm)(r,{outlined:"",dense:"",label:"Seleccionar Curso",options:l.cursos,modelValue:l.curso,"onUpdate:modelValue":[o[0]||(o[0]=e=>l.curso=e),i.actualizar]},null,8,["options","modelValue","onUpdate:modelValue"])]),(0,s._)("div",Tt,[(0,s.Wm)(n,{color:"green",label:"Publicar Notas",onClick:i.uppublicar},null,8,["onClick"])]),(0,s._)("div",Pt,[(0,s.Wm)(n,{color:"red",label:"Ocultar Notas",onClick:i.upnopublicar},null,8,["onClick"])]),(0,s._)("div",Ot,[(0,s.Wm)(g,{dense:"",title:l.curso.nombre,rows:l.estudiantes,columns:l.columns,filter:l.filter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(n,{color:"red-9","icon-right":"picture_as_pdf",label:"Expotar a PDF","no-caps":"",onClick:i.exportarPDF},null,8,["onClick"]),(0,s.Wm)(n,{color:"primary","icon-right":"archive",label:"Expotar a Excel","no-caps":"",onClick:i.exportTable},null,8,["onClick"]),(0,s.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:l.filter,"onUpdate:modelValue":o[1]||(o[1]=e=>l.filter=e),placeholder:"Buscar estudiante"},{append:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"search"})])),_:1},8,["modelValue"])])),body:(0,s.w5)((e=>[(0,s.Wm)(h,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{key:"id",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.id),1)])),_:2},1032,["props"]),(0,s.Wm)(u,{key:"nombre",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.nombre),1)])),_:2},1032,["props"]),(0,s.Wm)(u,{key:"apellidos",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.apellidos),1)])),_:2},1032,["props"]),(0,s.Wm)(u,{key:"ci",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.ci),1)])),_:2},1032,["props"]),(0,s.Wm)(u,{key:"celular",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.celular),1)])),_:2},1032,["props"]),(0,s.Wm)(u,{key:"direccion",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.direccion),1)])),_:2},1032,["props"]),(0,s.Wm)(u,{key:"foto",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{src:l.url+"../../imagenes/"+e.row.imagen,width:"30px"},null,8,["src"])])),_:2},1032,["props"]),(0,s.Wm)(u,{key:"vernota",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{color:"SI"==e.row.vernota?"green":"red",onClick:o=>i.publicarestudiante(e.row)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,j.zw)(e.row.vernota),1)])),_:2},1032,["color","onClick"])])),_:2},1032,["props"]),(0,s.Wm)(u,{key:"opciones",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{color:"green",label:"libreta",onClick:o=>i.libreta(e.row)},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["title","rows","columns","filter"])])])])),_:1})}var Qt=t(2841),Nt=t(1694),Ft=t.n(Nt);function zt(e,o){let t=void 0!==o?o(e):e;return t=void 0===t||null===t?"":String(t),t=t.split('"').join('""'),`"${t}"`}const Lt={data(){return{filter:"",estudiantes:[],url:"https://back.uesantarosa2.gq/api",cursos:[],curso:{},gestion:{},columns:[{name:"id",label:"id",field:"id",sortable:!0},{name:"nombre",label:"nombre",field:"nombre",sortable:!0},{name:"apellidos",label:"apellidos",field:"apellidos",sortable:!0},{name:"ci",label:"ci",field:"ci",sortable:!0},{name:"celular",label:"celular",field:"celular",sortable:!0},{name:"direccion",label:"direccion",field:"direccion",sortable:!0},{name:"foto",label:"foto",field:"foto",sortable:!0},{name:"vernota",label:"vernota",field:"vernota",sortable:!0},{name:"opciones",label:"opciones",field:"opciones",sortable:!0}]}},created(){this.$q.loading.show(),this.$axios.get("/curso").then((e=>{this.cursos=[],e.data.forEach((e=>{let o={};o=e,o.label=e.nombre+" "+e.paralelo,this.cursos.push(o)})),this.curso=this.cursos[0],this.misalumnos(this.curso.id)})),this.$axios.post("/gestion").then((e=>{this.gestion=e.data}))},methods:{uppublicar(){this.$axios.post("/upvernota",{id:this.curso.id}).then((e=>{this.$q.notify({message:"Ver Notas ",color:"green",icon:"info"}),this.misalumnos(this.curso.id)}))},upnopublicar(){this.$axios.post("/upocultarnota",{id:this.curso.id}).then((e=>{this.$q.notify({message:"Ocultar Notas ",color:"green",icon:"info"}),this.misalumnos(this.curso.id)}))},publicarestudiante(e){this.$axios.post("/upverestudiante",e).then((e=>{this.$q.notify({message:"Actualizado ",color:"green",icon:"info"}),this.misalumnos(this.curso.id)}))},exportarPDF(){let e=this;function o(){var o=new Image;o.src="img/escudo.jpeg",t.addImage(o,"jpg",.5,.5,2,2),t.setFont(void 0,"bold"),t.text(5,1,"LISTA DE ESTUDIANTES"),t.text(5,1.5,e.curso.label),t.text(1,3,"ID"),t.text(3,3,"NOMBRES"),t.text(6,3,"PATERNO"),t.text(9,3,"MATERNO"),t.text(13.5,3,"CI/RUN/RUC"),t.text(16,3,"CELULAR"),t.setFont(void 0,"normal")}var t=new ce.ZP("p","cm","letter");t.setFontSize(8),o();let a=0;this.estudiantes.forEach((e=>{console.log(e),a+=.5,t.text(1,a+3,e.id+""),t.text(3,a+3,e.nombres+""),t.text(6,a+3,e.paterno+""),t.text(9,a+3,e.materno+""),t.text(13.5,a+3,e.ci+""),t.text(16,a+3,e.celular+""),a+.5>=27&&(t.addPage(),o(),a=0)})),window.open(t.output("bloburl"),"_blank")},libreta(e){this.$axios.post("/libreta",{estudiante:e,curso:this.curso}).then((o=>{console.log(o.data);var t=new ce.ZP("L","cm","legal");let a=this;var l=new Image,s=new Image,i=new Image;l.src="img/escudo.jpeg",s.src="img/EscudoBolivia.png",i.src="img/EscudoBolivia2.png",t.addImage(s,"png",1,.5,2.5,2.5),t.addImage(l,"jpg",32,.5,2.5,2.5),t.addImage(i,"png",6,6,22,12),t.setFont(void 0,"bold"),t.setFontSize(12),t.text(15,1,"LIBRETA ESCOLAR"),t.text(13,1.5,"Educacion Secundaria "+a.curso.label),t.text(5,2,"Unidad Educativa:"),t.text(5,2.5,"Distrito Escolar:"),t.text(5,3,"Turno:"),t.text(20,2,"Departamento:"),t.text(20,2.5,"Dependencia:"),t.text(20,3,"Gestion:"),t.setFont(void 0,"normal"),t.text(10,2,"81230294 -SANTA ROSA2"),t.text(10,2.5,"ORURO"),t.text(10,3,"TARDE"),t.text(25,2,"ORURO"),t.text(25,2.5,"FISCAL"),t.text(25,3,""+a.gestion.gestion),t.setLineWidth(.01),t.line(1,3.1,33,3.1),t.setFont(void 0,"bold"),t.text(1,3.5,"Codigo rude"),t.text(9,3.5,"Apellidos Nombres"),t.setFont(void 0,"normal"),t.text(3,3.5,e.rude),t.text(15,3.5,e.paterno+" "+e.materno+" "+e.nombres),t.line(1,3.6,33,3.6),t.setFont(void 0,"bold"),t.text(4,4," AREAS CURRICULARES "),t.text(15,4,"1er "),t.text(18,4,"2do "),t.text(21,4,"3er "),t.text(25,4,"Promedio Anual"),t.text(14.5,4.5,"Trimestre"),t.text(17.5,4.5,"Trimestre"),t.text(20.5,4.5,"Trimestre"),t.text(24.5,4.5,"  Numeral    "),t.text(27,4.5,"  Literal"),t.setFont(void 0,"normal");let r,n=5,d=Ft().conversorNumerosALetras,c=new d,u="";o.data.forEach((e=>{n+=.7,e.primero=null==e.primero?0:e.primero,e.segundo=null==e.segundo?0:e.segundo,e.tercero=null==e.tercero?0:e.tercero,r=Math.round((parseFloat(e.primero)+parseFloat(e.segundo)+parseFloat(e.tercero))/3),u=c.convertToText(parseInt(r)),t.text(2.5,n,e.nombre),t.text(15,n,e.primero+""),t.text(18,n,e.segundo+""),t.text(21,n,e.tercero+""),t.text(25,n,r+""),t.text(27,n,u+"")})),window.open(t.output("bloburl"),"_blank")}))},exportTable(){const e=[this.columns.map((e=>zt(e.label)))].concat(this.estudiantes.map((e=>this.columns.map((o=>zt("function"===typeof o.field?o.field(e):e[void 0===o.field?o.name:o.field],o.format))).join(",")))).join("\r\n"),o=(0,Qt.Z)("table-export.csv",e,"text/csv");!0!==o&&$q.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})},actualizar(e){this.$q.loading.show(),this.misalumnos(e.id)},misalumnos(e){this.$axios.get("/curso/"+e).then((e=>{this.$q.loading.hide(),this.estudiantes=[],e.data.forEach((e=>{let o=e;o.nombre=e.nombres,o.apellidos=e.paterno+" "+e.materno,o.ci=e.carnet,o.direccion=e.domicilio,this.estudiantes.push(o)}))}))}}};Lt.render=Mt;const Bt=Lt;B()(Lt,"components",{QPage:I.Z,QSelect:be.Z,QBtn:N.Z,QTable:pe.Z,QInput:M.Z,QIcon:Q.Z,QTr:he.Z,QTd:ge.Z,QImg:Oo.Z,QBadge:Te.Z});const Yt={class:"row"},jt={key:0,class:"row"},Gt={class:"col-12 flex flex-center"},Ht=(0,s._)("div",{class:"text-h6"},"Areas",-1),Kt={class:"row"},Jt=(0,s._)("div",{class:"text-h6"},"Listado de Alumnos",-1);function Xt(e,o,t,a,l,i){const r=(0,s.up)("q-btn"),n=(0,s.up)("q-select"),d=(0,s.up)("q-card-section"),c=(0,s.up)("q-input"),u=(0,s.up)("q-td"),m=(0,s.up)("q-table"),p=(0,s.up)("q-card-actions"),h=(0,s.up)("q-card"),g=(0,s.up)("q-dialog"),b=(0,s.up)("q-page"),f=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(b,null,{default:(0,s.w5)((()=>[(0,s._)("div",Yt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cursos,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id,class:"col-4 col-sm-1 flex flex-center"},[(0,s.Wm)(r,{label:e.nombre+" "+e.paralelo,size:"xs",color:"primary",onClick:o=>i.listado(e)},null,8,["label","onClick"])])))),128))]),l.alumnos.length>0?((0,s.wg)(),(0,s.iD)("div",jt,[(0,s._)("div",Gt,[Ht,(0,s.Wm)(n,{outlined:"",dense:"",modelValue:l.trimestre,"onUpdate:modelValue":o[0]||(o[0]=e=>l.trimestre=e),label:"Seleccionar trimestre",options:["PRIMER TRIMESTRE","SEGUNDO TRIMESTRE","TERCER TRIMESTRE"]},null,8,["modelValue"])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.grupos,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id,class:"col-3"},[(0,s.Wm)(r,{label:e.nombre,color:e.color,class:"full-width"},null,8,["label","color"]),(0,s._)("div",Kt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.materias,(o=>((0,s.wg)(),(0,s.iD)("div",{key:o.id,class:"col-12 text-center"},[(0,s.Wm)(r,{label:o.nombre,class:"full-width",onClick:e=>i.notas(o.id),color:e.color,outline:""},null,8,["label","onClick","color"])])))),128))])])))),128))])):(0,s.kq)("",!0),(0,s.Wm)(g,{modelValue:l.dialog_nota,"onUpdate:modelValue":o[2]||(o[2]=e=>l.dialog_nota=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{style:{"min-width":"350px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[Jt,(0,s._)("input",{type:"file",onChange:o[1]||(o[1]=(...e)=>i.getArch&&i.getArch(...e))},null,32)])),_:1}),(0,s.Wm)(d,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{title:"Estudiantes",rows:l.materia,columns:l.columns,"row-key":"name"},{"body-cell-promedio":(0,s.w5)((e=>[(0,s.Wm)(u,{key:"promedio",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{outlined:"",modelValue:e.row.promedio,"onUpdate:modelValue":o=>e.row.promedio=o,type:"number",step:"0.01",dense:""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])),_:1}),(0,s.Wm)(p,{align:"right",class:"text-primary"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(r,{flat:"",label:"Cancel"},null,512),[[f]]),(0,s.Wm)(r,{flat:"",label:"Registrar",onClick:i.registrarNota},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}t(6801);var ea=t(4701);const oa={data(){return{cursos:[],XLSX:t(4701),grupos:[],alumnos:[],materia:[],materias:[],cursomat:[],calificacion:[],dialog_nota:!1,mat:{},trimestre:"PRIMER TRIMESTRE",columns:[{name:"paterno",label:"PATERNO",align:"left",field:"paterno",sortable:!0},{name:"materno",label:"MATERNO",align:"left",field:"materno",sortable:!0},{name:"nombres",label:"NOMBRES",align:"left",field:"nombres",sortable:!0},{name:"promedio",label:"Promedio",align:"left",field:"promedio",sortable:!0}]}},created(){this.$q.loading.show(),this.$axios.get("/curso").then((e=>{this.cursos=e.data,this.$q.loading.hide()})),this.$axios.get("/grupo").then((e=>{console.log(e.data),this.grupos=e.data}))},methods:{getArch(e){let o=0;"PRIMER TRIMESTRE"==this.trimestre&&(o=4),"SEGUNDO TRIMESTRE"==this.trimestre&&(o=5),"TERCER TRIMESTRE"==this.trimestre&&(o=6);var t=e.target.files[0],a=new FileReader;a.readAsBinaryString(t);let l=this;a.onload=function(e){try{var t=e.target.result,a=ea.read(t,{type:"binary"}),s=a.SheetNames[o],i=ea.utils.sheet_to_json(a.Sheets[s]);l.calificacion=[],i.forEach(((e,o)=>{if(o>=10&&void 0!=e.__EMPTY&&""!=e.__EMPTY.trim()&&" "!=e.__EMPTY.trim()&&null!=e.__EMPTY){let o=e.__EMPTY.replace("  "," "),t=e.__EMPTY_26;l.calificacion.push(e);let a=l.materia.findIndex((e=>e.nombreCompleto==o));a>=0&&(l.materia[a].promedio=t)}}))}catch(e){return!1}}},listado(e){this.materias=[],this.curso=e,this.$axios.post("/listestudiante",{curso_id:e.id}).then((o=>{this.alumnos=o.data,this.$axios.post("/listmaterias/"+e.id).then((e=>{this.cursomat=e.data[0].materias,this.grupos.forEach((e=>{this.cursomat.forEach((o=>{e.id==o.grupo_id&&this.materias.push(o)})),e.materias=this.materias,this.materias=[]}))}))}))},notas(e){this.materia=[],this.mat=e,this.alumnos.forEach((o=>{o.promedio=0,o.materia_id=e,o.trimestre=this.trimestre,o.nombreCompleto=o.paterno+" "+o.materno+" "+o.nombres,this.materia.push(o)})),this.dialog_nota=!0,this.$axios.post("/listnota",{curso:this.curso,trimestre:this.trimestre,materia:e}).then((e=>{console.log(e.data),e.data.forEach((e=>{this.materia.forEach((o=>{e.estudiante_id==o.id&&(o.promedio=e.promedio)}))}))}))},registrarNota(){this.$axios.post("/nota",{curso:this.curso,trimestre:this.trimestre,materia:this.mat,notas:this.materia}).then((e=>{console.log(e.data),this.dialog_nota=!1}))}}};oa.render=Xt;const ta=oa;B()(oa,"components",{QPage:I.Z,QBtn:N.Z,QSelect:be.Z,QDialog:fe.Z,QCard:U.Z,QCardSection:F.Z,QTable:pe.Z,QTd:ge.Z,QInput:M.Z,QCardActions:z.Z}),B()(oa,"directives",{ClosePopup:ve.Z});const aa={class:"q-pa-md"},la={class:"text-h7"},sa=(0,s.Uk)(" REGISTRO DE MATERIAS"),ia={class:"text-h7"},ra=(0,s.Uk)(" MODIFICAR DATOS DE MATERIA"),na=(0,s._)("span",{class:"q-ml-sm"},"Seguro de eliminar Registro.",-1);function da(e,o,t,a,l,i){const r=(0,s.up)("q-btn"),n=(0,s.up)("q-icon"),d=(0,s.up)("q-card-section"),c=(0,s.up)("q-input"),u=(0,s.up)("q-form"),m=(0,s.up)("q-card"),p=(0,s.up)("q-dialog"),h=(0,s.up)("q-td"),g=(0,s.up)("q-tr"),b=(0,s.up)("q-table"),f=(0,s.up)("q-select"),w=(0,s.up)("q-avatar"),_=(0,s.up)("q-card-actions"),v=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.iD)("div",aa,[(0,s.Wm)(r,{label:"Nuevo Gestion",color:"positive",onClick:o[0]||(o[0]=e=>l.alert=!0),icon:"add_circle",class:"q-mb-xs"}),(0,s.Wm)(p,{modelValue:l.alert,"onUpdate:modelValue":o[2]||(o[2]=e=>l.alert=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{style:{"max-width":"80%",width:"50%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"bg-green-14 text-white"},{default:(0,s.w5)((()=>[(0,s._)("div",la,[(0,s.Wm)(n,{name:"add_circle"}),sa])])),_:1}),(0,s.Wm)(d,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{onSubmit:i.onSubmit,onReset:i.onReset,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{filled:"",modelValue:l.dato.gestion,"onUpdate:modelValue":o[1]||(o[1]=e=>l.dato.gestion=e),type:"text",label:"Gestion","lazy-rules":"",rules:[e=>e&&e>2e3&&e<9999||"Por favor dato"]},null,8,["modelValue","rules"]),(0,s._)("div",null,[(0,s.Wm)(r,{label:"Agregar",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(r,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[v]])])])),_:1},8,["onSubmit","onReset"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(b,{dense:"",filter:l.filter,title:"LISTA DE GESTION",rows:l.data,columns:l.columns,"row-key":"name","rows-per-page-options":[50,100]},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(c,{borderless:"",dense:"",debounce:"300",modelValue:l.filter,"onUpdate:modelValue":o[3]||(o[3]=e=>l.filter=e),placeholder:"Search"},{append:(0,s.w5)((()=>[(0,s.Wm)(n,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-opcion":(0,s.w5)((e=>[(0,s.Wm)(g,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{key:"opcion",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{dense:"",round:"",flat:"",color:"yellow",onClick:o=>i.editRow(e),icon:"edit"},null,8,["onClick"]),(0,s.Wm)(r,{dense:"",round:"",flat:"",color:"red",onClick:o=>i.deleteRow(e),icon:"delete"},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["filter","rows","columns"]),(0,s.Wm)(p,{modelValue:l.dialog_mod,"onUpdate:modelValue":o[7]||(o[7]=e=>l.dialog_mod=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{style:{"max-width":"80%",width:"50%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"bg-warning text-white"},{default:(0,s.w5)((()=>[(0,s._)("div",ia,[(0,s.Wm)(n,{name:"edit"}),ra])])),_:1}),(0,s.Wm)(d,{class:"q-pt-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{onSubmit:i.onMod,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{filled:"",modelValue:l.dato2.nombre,"onUpdate:modelValue":o[4]||(o[4]=e=>l.dato2.nombre=e),type:"text",label:"Nombre ",hint:"Ingresar Nombre","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(c,{filled:"",modelValue:l.dato2.codigo,"onUpdate:modelValue":o[5]||(o[5]=e=>l.dato2.codigo=e),type:"text",label:"Codigo",hint:"cod","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor ingresa datos"]},null,8,["modelValue","rules"]),(0,s.Wm)(f,{outlined:"",modelValue:l.grupo,"onUpdate:modelValue":o[6]||(o[6]=e=>l.grupo=e),options:l.grupos,label:"Grupo"},null,8,["modelValue","options"]),(0,s._)("div",null,[(0,s.Wm)(r,{label:"Modificar",type:"submit",color:"positive",icon:"add_circle"}),(0,s.wy)((0,s.Wm)(r,{label:"Cancelar",icon:"delete",color:"negative"},null,512),[[v]])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(p,{modelValue:l.dialog_del,"onUpdate:modelValue":o[8]||(o[8]=e=>l.dialog_del=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"row items-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{icon:"clear",color:"red","text-color":"white"}),na])),_:1}),(0,s.Wm)(_,{align:"right"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{flat:"",label:"Eliminar",color:"deep-orange",onClick:i.onDel},null,8,["onClick"]),(0,s.wy)((0,s.Wm)(r,{flat:"",label:"Cancelar",color:"primary"},null,512),[[v]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const{addToDate:ca}=de.ZP,ua={data(){return{alert:!1,dialog_mod:!1,dialog_del:!1,filter:"",dato:{},model:"",dato2:{},options:[],props:[],unidades:[],permisos:[],permisos2:[],grupos:[],grupo:{},modelpermiso:!1,uni:{},columns:[{name:"gestion",align:"left",label:"GESTION ",field:"gestion",sortable:!0},{name:"estado",align:"left",label:"ESTADO",field:"estado",sortable:!0},{name:"opcion",align:"center",label:"OPCIÓN",field:"action",sortable:!1}],data:[]}},created(){this.misdatos(),this.misgrupos()},methods:{misgrupos(){this.$axios.get("https://back.uesantarosa2.gq/api/grupo").then((e=>{e.data.forEach((e=>{this.grupos.push({label:e.nombre,grupo:e})})),this.grupo=this.grupos[0]}))},misdatos(){this.$q.loading.show(),this.$axios.get("https://back.uesantarosa2.gq/api/periodo").then((e=>{this.data=e.data,this.$q.loading.hide()}))},editRow(e){this.dato2=e.row,this.grupo={label:this.dato2.grupo.nombre,grupo:this.dato2.grupo},this.dato2.unid_id=e.row.unid,this.dialog_mod=!0},deleteRow(e){this.dato2=e.row,this.dialog_del=!0},onSubmit(){this.$q.loading.show(),this.$axios.post("https://back.uesantarosa2.gq/api/periodo",this.dato).then((e=>{this.alert=!1,this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Creado correctamente"}),this.misdatos()})).catch((e=>{console.log(e.response.data),this.$q.notify({message:e.response.data.message,icon:"close",color:"red"}),this.$q.loading.hide()}))},onMod(){this.$q.loading.show(),this.dato2.grupo_id=this.grupo.grupo.id,this.$axios.put("https://back.uesantarosa2.gq/api/materia/"+this.dato2.id,this.dato2).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Modificado correctamente"}),this.dialog_mod=!1,this.misdatos()}))},onDel(){this.$q.loading.show(),this.$axios.delete("https://back.uesantarosa2.gq/api/materia/"+this.dato2.id).then((e=>{this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Eliminado correctamente"}),this.dialog_del=!1,this.misdatos()})).catch((e=>{this.$q.loading.hide(),this.$q.notify({message:e.response.data.message,icon:"error",color:"red"})}))},onReset(){this.dato.nombre="",this.dato.codigo=""}}};ua.render=da;const ma=ua;B()(ua,"components",{QBtn:N.Z,QDialog:fe.Z,QCard:U.Z,QCardSection:F.Z,QIcon:Q.Z,QForm:O.Z,QInput:M.Z,QTable:pe.Z,QTr:he.Z,QTd:ge.Z,QSelect:be.Z,QAvatar:we.Z,QCardActions:z.Z}),B()(ua,"directives",{ClosePopup:ve.Z});const pa={class:"q-pa-md row items-start q-gutter-md"},ha=(0,s._)("div",{class:"text-h3"},"MISION",-1),ga=(0,s._)("div",{class:"text-h5"}," La Unidad Educativa “Santa Rosa 2”es un Colegio Técnico-Humanístico, con un selecto plantel docente y administrativo, líder, comprometido con la transformación Social que vive el Estado Plurinacional de Bolivia. ",-1),ba=(0,s._)("div",{class:"text-h3"},"VISION",-1),fa=(0,s._)("div",{class:"text-h5"}," “Formar estudiantes con diversas capacidades, técnicas y humanísticas, jóvenes y señoritas líderes, con análisis crítico y reflexivo, comunicativos con su entorno y consigo mismo, enmarcados en la práctica de valores Socio Comunitarios Productivos, con conocimientos suficientes sobre las nuevas tecnologías de información, aplicando el nuevo modelo Educativo Socio Comunitario Productivo, para vivir bien en armonía con la madre tierra”. ",-1);function wa(e,o,t,a,l,i){const r=(0,s.up)("q-card-section"),n=(0,s.up)("q-card-actions"),d=(0,s.up)("q-card");return(0,s.wg)(),(0,s.iD)("div",pa,[(0,s.Wm)(d,{class:"my-card"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"bg-teal text-white"},{default:(0,s.w5)((()=>[ha])),_:1}),(0,s.Wm)(n,{vertical:""},{default:(0,s.w5)((()=>[ga])),_:1})])),_:1}),(0,s.Wm)(d,{class:"my-card"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"bg-teal text-white"},{default:(0,s.w5)((()=>[ba])),_:1}),(0,s.Wm)(n,{vertical:""},{default:(0,s.w5)((()=>[fa])),_:1})])),_:1})])}const _a=(0,s.aZ)({name:"PageIndex"});_a.render=wa;const va=_a;B()(_a,"components",{QCard:U.Z,QCardSection:F.Z,QCardActions:z.Z});const xa={class:"q-pa-md"},qa={class:"row"},Wa={class:"col-4"},ya={class:"col-4"},Va={class:"col-4"},Ca={class:"row"},ka={class:"col-6"},Ea=(0,s._)("div",{class:"col-6"},[(0,s._)("canvas",{id:"bar-chart"})],-1),Sa=(0,s._)("div",{class:"hidden"},[(0,s._)("div",{id:"impnota"},[(0,s._)("table",null,[(0,s._)("thead",null,[(0,s._)("tr",{id:"htmlencabezado"})]),(0,s._)("tbody",{id:"cuerpo"})])])],-1);function Ra(e,o,t,a,l,i){const r=(0,s.up)("q-select"),n=(0,s.up)("q-btn"),d=(0,s.up)("q-icon"),c=(0,s.up)("q-input"),u=(0,s.up)("q-table");return(0,s.wg)(),(0,s.iD)("div",xa,[(0,s._)("div",qa,[(0,s._)("div",Wa,[(0,s.Wm)(r,{square:"",outlined:"",modelValue:l.curso,"onUpdate:modelValue":o[0]||(o[0]=e=>l.curso=e),options:l.data,label:"CURSO"},null,8,["modelValue","options"])]),(0,s._)("div",ya,[(0,s.Wm)(r,{square:"",outlined:"",modelValue:l.trimestre,"onUpdate:modelValue":o[1]||(o[1]=e=>l.trimestre=e),options:l.periodo,label:"TRIMESTRE"},null,8,["modelValue","options"])]),(0,s._)("div",Va,[(0,s.Wm)(n,{label:"GENERAR",color:"positive",onClick:i.generar,icon:"add_circle",class:"q-mb-xs"},null,8,["onClick"])])]),(0,s.Wm)(u,{dense:"",filter:l.filter,title:"ESTUDIANTES",rows:l.calificacion,"row-key":"name","rows-per-page-options":[50,100]},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(c,{borderless:"",dense:"",debounce:"300",modelValue:l.filter,"onUpdate:modelValue":o[2]||(o[2]=e=>l.filter=e),placeholder:"Search"},{append:(0,s.w5)((()=>[(0,s.Wm)(d,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["filter","rows"]),(0,s._)("div",Ca,[(0,s._)("div",ka,[(0,s.Wm)(u,{title:"Porcentajes",rows:l.porcentaje},null,8,["rows"])]),Ea]),Sa])}var Aa=t(8940),Ia=t(6738);const{addToDate:Ua}=de.ZP,Da={data(){return{filter:"",lmaterias:[],porcentaje:[],dato:{},trimestre:"PRIMER TRIMESTRE",model:"",dato2:{},options:[],props:[],unidades:[],permisos:[],permisos2:[],materias:[],calificacion:[],encabezado:"",cuerponota:"",numero:0,aprobado:0,reprobado:0,periodo:["PRIMER TRIMESTRE","SEGUNDO TRIMESTRE","TERCER TRIMESTRE","ANUAL"],curso:{},modelpermiso:!1,uni:{},columns:[{name:"nombre",align:"left",label:"MATERIA ",field:"nombre",sortable:!0},{name:"paralelo",align:"left",label:"paralelo",field:"paralelo",sortable:!0},{name:"opcion",align:"center",label:"OPCIÓN",field:"action",sortable:!1}],data:[],chartData:{labels:["January","February","March"],datasets:[{data:[40,20,12]}]},chartOptions:{responsive:!0}}},created(){this.misdatos()},methods:{generar(){this.aprobado=0,this.reprobado=0,this.materias=[],this.cadena='<style>              table {                width: 100%;                border-collapse: collapse;              }              table, th, td {                border: 1px solid;              }              tbody,tr,td{                font-size: 8px;              }              th{                background-color: #12EA00;                font-size: 6px;              }              .titulo{font-size:14px;                text-align: center;                font-weight: bold;}              </style>              <div class="titulo">CENTRALIZADOR DE NOTAS '+this.trimestre+" CURSO: "+this.curso.label+"</div>            <table><thead>            <tr ><th>No</th><th>ESTUDIANTE</th>",this.cuerponota="";let e="",o="";this.curso.materias.forEach((e=>{this.materias.push({id:e.id,nombre:e.nombre})})),this.numero=this.materias.length,console.log(this.materias),this.$axios.post("https://back.uesantarosa2.gq/api/notaMejor",{curso:this.curso.id,materias:this.materias,trim:this.trimestre}).then((t=>{console.log(t.data),this.calificacion=t.data;for(let e=0;e<this.numero;e++)this.cadena+="<th>"+this.materias[e].nombre+"</th>";this.cadena+="<th>PROMEDIO</th> </tr></thead><tbody >";let a=1;this.calificacion.forEach((t=>{this.cadena+="<tr><td>"+a+"</td><td>"+t.paterno+" "+t.materno+" "+t.nombres+"</td>",this.materias.forEach((a=>{e=a.nombre,console.log(t[e]),null==t[e]&&(t[e]=0),o=t[e]<51?"red":"black",this.cadena+="<td style='color:"+o+"'>"+t[e]+"</td>"})),null==t.promedio&&(t.promedio=0),t.promedio<51?(o="red",this.reprobado++):(o="black",this.aprobado++),this.cadena+="<td style='color:"+o+"'>"+t.promedio+"</td></tr>",console.log(t),a++})),this.cadena+="</tbody></table>",document.getElementById("impnota").innerHTML=this.cadena,console.log(this.cuerponota);const l=new Aa.gR;l.print(document.getElementById("impnota")),this.porcentaje=[{DETALLE:"APROBADOS",CANTIDAD:this.aprobado},{DETALLE:"REPROBADOS",CANTIDAD:this.reprobado}],this.createChart("bar-chart")}))},createChart(e){const o=document.getElementById(e),t=new Ia.Z(o,{type:"doughnut",data:{labels:["APROBADOS","REPROBADOS"],datasets:[{label:"Formularios (cantidad)",backgroundColor:["green","red"],data:[this.aprobado,this.reprobado]}]},options:{legend:{display:!1},title:{display:!0,text:"Total de Formularios registraados"}}});return t},misdatos(){this.data=[],this.$q.loading.show(),this.$axios.get("https://back.uesantarosa2.gq/api/curso").then((e=>{console.log(e.data),e.data.forEach((e=>{e.label=e.nombre+" "+e.paralelo,this.data.push(e)})),this.curso=this.data[0],this.$q.loading.hide()}))}}};Da.render=Ra;const $a=Da;B()(Da,"components",{QSelect:be.Z,QBtn:N.Z,QTable:pe.Z,QInput:M.Z,QIcon:Q.Z});const Za={class:"row"},Ta={class:"col-12"};function Pa(e,o,t,a,l,i){const r=(0,s.up)("q-icon"),n=(0,s.up)("q-input"),d=(0,s.up)("q-btn"),c=(0,s.up)("q-td"),u=(0,s.up)("q-table"),m=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(m,null,{default:(0,s.w5)((()=>[(0,s._)("div",Za,[(0,s._)("div",Ta,[(0,s.Wm)(u,{dense:"",title:"",rows:l.estudiantes,columns:l.columns,filter:l.filter},{"top-right":(0,s.w5)((()=>[(0,s.Wm)(n,{outlined:"",dense:"",debounce:"300",modelValue:l.filter,"onUpdate:modelValue":o[0]||(o[0]=e=>l.filter=e),placeholder:"Buscar estudiante"},{append:(0,s.w5)((()=>[(0,s.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell-opcion":(0,s.w5)((e=>[(0,s.Wm)(c,{key:"opcion",props:e},{default:(0,s.w5)((()=>["SI"==e.row.vernota?((0,s.wg)(),(0,s.j4)(d,{key:0,color:"green",label:"libreta",onClick:o=>i.libreta(e.row)},null,8,["onClick"])):(0,s.kq)("",!0)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])])])),_:1})}const Oa={data(){return{filter:"",estudiantes:[],url:"https://back.uesantarosa2.gq/api",cursos:[],curso:{},gestion:{},columns:[{name:"id",label:"id",field:"id",sortable:!0},{name:"nombre",label:"NOMBRES",field:"nombre",sortable:!0},{name:"apellidos",label:"APELLIDO",field:"apellidos",sortable:!0},{name:"opcion",label:"OPCION",field:"opciones",aling:"center"}]}},created(){this.$q.loading.show(),this.$axios.get("/curso").then((e=>{this.cursos=[],e.data.forEach((e=>{let o={};o=e,o.label=e.nombre+" "+e.paralelo,this.cursos.push(o)})),this.curso=this.cursos[0],this.misalumnos(this.curso.id)})),this.$axios.post("/gestion").then((e=>{this.gestion=e.data}))},methods:{libreta(e){this.$axios.post("/libreta",{estudiante:e,curso:this.curso}).then((o=>{console.log(o.data);var t=new ce.ZP("L","cm","legal");let a=this;var l=new Image,s=new Image,i=new Image;l.src="img/escudo.jpeg",s.src="img/EscudoBolivia.png",i.src="img/EscudoBolivia2.png",t.addImage(s,"png",1,.5,2.5,2.5),t.addImage(l,"jpg",32,.5,2.5,2.5),t.addImage(i,"png",6,6,22,12),t.setFont(void 0,"bold"),t.setFontSize(12),t.text(15,1,"LIBRETA ESCOLAR"),t.text(13,1.5,"Educacion Secundaria "),t.text(20,1.5,e.curso.nombre+" "+e.curso.paralelo),t.text(5,2,"Unidad Educativa:"),t.text(5,2.5,"Distrito Escolar:"),t.text(5,3,"Turno:"),t.text(20,2,"Departamento:"),t.text(20,2.5,"Dependencia:"),t.text(20,3,"Gestion:"),t.setFont(void 0,"normal"),t.text(10,2,"81230294 -SANTA ROSA2"),t.text(10,2.5,"ORURO"),t.text(10,3,"TARDE"),t.text(25,2,"ORURO"),t.text(25,2.5,"FISCAL"),t.text(25,3,""+a.gestion.gestion),t.setLineWidth(.01),t.line(1,3.1,33,3.1),t.setFont(void 0,"bold"),t.text(1,3.5,"Codigo rude"),t.text(9,3.5,"Apellidos Nombres"),t.setFont(void 0,"normal"),t.text(3,3.5,e.rude),t.text(15,3.5,e.paterno+" "+e.materno+" "+e.nombres),t.line(1,3.6,33,3.6),t.setFont(void 0,"bold"),t.text(4,4," AREAS CURRICULARES "),t.text(15,4,"1er "),t.text(18,4,"2do "),t.text(21,4,"3er "),t.text(25,4,"Promedio Anual"),t.text(14.5,4.5,"Trimestre"),t.text(17.5,4.5,"Trimestre"),t.text(20.5,4.5,"Trimestre"),t.text(24.5,4.5,"  Numeral    "),t.text(27,4.5,"  Literal"),t.setFont(void 0,"normal");let r,n=5,d=Ft().conversorNumerosALetras,c=new d,u="";o.data.forEach((e=>{n+=.7,e.primero=null==e.primero?0:e.primero,e.segundo=null==e.segundo?0:e.segundo,e.tercero=null==e.tercero?0:e.tercero,r=Math.round((parseFloat(e.primero)+parseFloat(e.segundo)+parseFloat(e.tercero))/3),u=c.convertToText(parseInt(r)),t.text(2.5,n,e.nombre),t.text(15,n,e.primero+""),t.text(18,n,e.segundo+""),t.text(21,n,e.tercero+""),t.text(25,n,r+""),t.text(27,n,u+"")})),window.open(t.output("bloburl"),"_blank")}))},misalumnos(){this.$axios.post("/hijos").then((e=>{console.log(e.data),this.$q.loading.hide(),this.estudiantes=[],e.data[0].estudiantes.forEach((e=>{let o=e;o.nombre=e.nombres,o.apellidos=e.paterno+" "+e.materno,this.estudiantes.push(o)}))}))}}};Oa.render=Pa;const Ma=Oa;B()(Oa,"components",{QPage:I.Z,QTable:pe.Z,QInput:M.Z,QIcon:Q.Z,QTd:ge.Z,QBtn:N.Z});const Qa=[{path:"/",component:()=>Promise.all([t.e(736),t.e(572)]).then(t.bind(t,3572)),children:[{path:"",component:Y},{path:"/inicio",component:va,meta:{requiresAuth:!0}},{path:"/user",component:Pe,meta:{requiresAuth:!0}},{path:"/biblioteca",component:et,meta:{requiresAuth:!0}},{path:"/libro",component:Qo,meta:{requiresAuth:!0}},{path:"/estudiante",component:Dt,meta:{requiresAuth:!0}},{path:"/profesor",component:xe,meta:{requiresAuth:!0}},{path:"/materia",component:je,meta:{requiresAuth:!0}},{path:"/curso",component:io,meta:{requiresAuth:!0}},{path:"/inscritos",component:Bt,meta:{requiresAuth:!0}},{path:"/calificaciones",component:ta,meta:{requiresAuth:!0}},{path:"/gestion",component:ma,meta:{requiresAuth:!0}},{path:"/mejores",component:$a,meta:{requiresAuth:!0}},{path:"/publicar",component:Ma,meta:{requiresAuth:!0}}]},{path:"/:catchAll(.*)*",component:()=>t.e(193).then(t.bind(t,2193))}],Na=Qa,Fa=(0,c.BC)((function(){const e=u.r5,o=(0,u.p7)({scrollBehavior:()=>({left:0,top:0}),routes:Na,history:e("")});return o.beforeEach(((e,o,t)=>{if(e.matched.some((e=>e.meta.requiresAuth))){if((0,d["default"])().getters["login/isLoggedIn"])return void t();t("/")}else t()})),o}));async function za(e,o){const a="function"===typeof d["default"]?await(0,d["default"])({}):d["default"],{storeKey:s}=await Promise.resolve().then(t.bind(t,214)),i="function"===typeof Fa?await Fa({store:a}):Fa;a.$router=i;const r=e(n);return r.use(l.Z,o),{app:r,store:a,storeKey:s,router:i}}var La=t(729),Ba=t(6249),Ya=t(4434),ja=t(499);const Ga={config:{},lang:La.Z,plugins:{Loading:Ba.Z,Notify:Ya.Z,Dialog:ja.Z}},Ha="";async function Ka({app:e,router:o,store:t,storeKey:a},l){let s=!1;const i=e=>{s=!0;const t=Object(e)===e?o.resolve(e).fullPath:e;window.location.href=t},r=window.location.href.replace(window.location.origin,"");for(let d=0;!1===s&&d<l.length;d++)try{await l[d]({app:e,router:o,store:t,ssrContext:null,redirect:i,urlPath:r,publicPath:Ha})}catch(n){return n&&n.url?void(window.location.href=n.url):void console.error("[Quasar] boot error:",n)}!0!==s&&(e.use(o),e.use(t,a),e.mount("#q-app"))}za(a.ri,Ga).then((e=>Promise.all([Promise.resolve().then(t.bind(t,5474))]).then((o=>{const t=o.map((e=>e.default)).filter((e=>"function"===typeof e));Ka(e,t)}))))},5474:(e,o,t)=>{t.r(o),t.d(o,{default:()=>r,axios:()=>s.a,api:()=>i});var a=t(7083),l=t(52),s=t.n(l);const i=s().create({baseURL:"https://back.uesantarosa2.gq/api"}),r=(0,a.xr)((({app:e,router:o,store:t})=>{e.config.globalProperties.$axios=s();const a=localStorage.getItem("tokencole");a&&(e.config.globalProperties.$axios.defaults.headers.common["Authorization"]="Bearer "+a,e.config.globalProperties.$axios.defaults.baseURL="https://back.uesantarosa2.gq/api",e.config.globalProperties.$axios.post("https://back.uesantarosa2.gq/api/me").then((e=>{t.commit("login/auth_success",{token:a,user:e.data})})).catch((e=>{t.commit("login/salir"),localStorage.removeItem("tokencole")})))}))},214:(e,o,t)=>{t.r(o),t.d(o,{default:()=>q});var a={};t.r(a),t.d(a,{authStatus:()=>c,isLoggedIn:()=>d,unit:()=>m,user:()=>u});var l={};t.r(l),t.d(l,{auth_error:()=>g,auth_request:()=>p,auth_success:()=>h,salir:()=>b});var s={};t.r(s),t.d(s,{login:()=>w,logout:()=>v,register:()=>_});var i=t(7083),r=t(3617);function n(){return{status:"",token:localStorage.getItem("tokencole")||"",user:{unit:{}},pedido:[],boolgestionarusuarios:!1,boolgestionarprofesores:!1,boolgestionarcursos:!1,boolgestionarmaterias:!1,boolgestionarbiblioteca:!1,boolregistrocalificaciones:!1,boolgestionargestion:!1,boolinscripbirestudiante:!1,boolinformeinscritos:!1,boolgestionarcalificaciones:!1}}function d(e){return!!e.token}function c(e){return e.status}function u(e){return e.user}function m(e){return e.user.unit}function p(e){e.status="loading"}function h(e,o){e.status="success",e.token=o.token,e.user=o.user,e.boolgestionarusuarios=void 0!=o.user.permisos.find((e=>1===e.id)),e.boolgestionarprofesores=void 0!=o.user.permisos.find((e=>2===e.id)),e.boolgestionarcursos=void 0!=o.user.permisos.find((e=>3===e.id)),e.boolgestionarmaterias=void 0!=o.user.permisos.find((e=>4===e.id)),e.boolgestionarbiblioteca=void 0!=o.user.permisos.find((e=>5===e.id)),e.boolregistrocalificaciones=void 0!=o.user.permisos.find((e=>6===e.id)),e.boolgestionargestion=void 0!=o.user.permisos.find((e=>7===e.id)),e.boolinscripbirestudiante=void 0!=o.user.permisos.find((e=>8===e.id)),e.boolinformeinscritos=void 0!=o.user.permisos.find((e=>9===e.id)),e.boolgestionarcalificaciones=void 0!=o.user.permisos.find((e=>10===e.id))}function g(e){e.status="error"}function b(e){e.status="",e.token="",e.boolgestionarusuarios=!1,e.boolgestionarprofesores=!1,e.boolgestionarcursos=!1,e.boolgestionarmaterias=!1,e.boolgestionarbiblioteca=!1,e.boolregistrocalificaciones=!1,e.boolgestionargestion=!1,e.boolinscripbirestudiante=!1,e.boolinformeinscritos=!1,e.boolgestionarcalificaciones=!1}var f=t(5474);function w({commit:e},o){return new Promise(((t,a)=>{e("auth_request"),f.axios.post("https://back.uesantarosa2.gq/api/login",o).then((o=>{const a=o.data.token,l=o.data.user;localStorage.setItem("tokencole",a),f.axios.defaults.headers.common.Authorization="Bearer "+a,f.axios.defaults.baseURL="https://back.uesantarosa2.gq/api",e("auth_success",{token:a,user:l}),t(o)})).catch((o=>{e("auth_error"),localStorage.removeItem("tokencole"),a(o)}))}))}function _({commit:e},o){return new Promise(((t,a)=>{e("auth_request"),f.axios.post("https://back.uesantarosa2.gq/api/register",o).then((o=>{console.log(o.data);const a=o.data.token,l=o.data.user;localStorage.setItem("tokencole",a),f.axios.defaults.headers.common.Authorization="Bearer "+a,e("auth_success",{token:a,user:l}),t(o)})).catch((o=>{e("auth_error"),localStorage.removeItem("tokencole"),a(o)}))}))}function v({commit:e}){return new Promise(((o,t)=>{f.axios.post("https://back.uesantarosa2.gq/api/logout").then((t=>{e("salir"),localStorage.removeItem("tokencole"),delete f.axios.defaults.headers.common.Authorization,o()})).catch((o=>{e("auth_error"),localStorage.removeItem("tokencole"),t(o)}))}))}const x={namespaced:!0,state:n,getters:a,mutations:l,actions:s},q=(0,i.h)((function(){const e=(0,r.MT)({modules:{login:x},strict:!1});return e}))}},o={};function t(a){var l=o[a];if(void 0!==l)return l.exports;var s=o[a]={exports:{}};return e[a].call(s.exports,s,s.exports,t),s.exports}t.m=e,(()=>{var e=[];t.O=(o,a,l,s)=>{if(!a){var i=1/0;for(c=0;c<e.length;c++){for(var[a,l,s]=e[c],r=!0,n=0;n<a.length;n++)(!1&s||i>=s)&&Object.keys(t.O).every((e=>t.O[e](a[n])))?a.splice(n--,1):(r=!1,s<i&&(i=s));if(r){e.splice(c--,1);var d=l();void 0!==d&&(o=d)}}return o}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[a,l,s]}})(),(()=>{t.n=e=>{var o=e&&e.__esModule?()=>e["default"]:()=>e;return t.d(o,{a:o}),o}})(),(()=>{var e,o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;t.t=function(a,l){if(1&l&&(a=this(a)),8&l)return a;if("object"===typeof a&&a){if(4&l&&a.__esModule)return a;if(16&l&&"function"===typeof a.then)return a}var s=Object.create(null);t.r(s);var i={};e=e||[null,o({}),o([]),o(o)];for(var r=2&l&&a;"object"==typeof r&&!~e.indexOf(r);r=o(r))Object.getOwnPropertyNames(r).forEach((e=>i[e]=()=>a[e]));return i["default"]=()=>a,t.d(s,i),s}})(),(()=>{t.d=(e,o)=>{for(var a in o)t.o(o,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:o[a]})}})(),(()=>{t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce(((o,a)=>(t.f[a](e,o),o)),[]))})(),(()=>{t.u=e=>"js/"+e+"."+{193:"1ce6fce9",572:"6e0e7206"}[e]+".js"})(),(()=>{t.miniCssF=e=>"css/"+({143:"app",736:"vendor"}[e]||e)+"."+{143:"31d6cfe0",572:"6100fa3c",736:"064a58b1"}[e]+".css"})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o)})(),(()=>{var e={},o="UE Santa rosa:";t.l=(a,l,s,i)=>{if(e[a])e[a].push(l);else{var r,n;if(void 0!==s)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==o+s){r=u;break}}r||(n=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,t.nc&&r.setAttribute("nonce",t.nc),r.setAttribute("data-webpack",o+s),r.src=a),e[a]=[l];var m=(o,t)=>{r.onerror=r.onload=null,clearTimeout(p);var l=e[a];if(delete e[a],r.parentNode&&r.parentNode.removeChild(r),l&&l.forEach((e=>e(t))),o)return o(t)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),n&&document.head.appendChild(r)}}})(),(()=>{t.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{t.p=""})(),(()=>{var e=(e,o,t,a)=>{var l=document.createElement("link");l.rel="stylesheet",l.type="text/css";var s=s=>{if(l.onerror=l.onload=null,"load"===s.type)t();else{var i=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.href||o,n=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");n.code="CSS_CHUNK_LOAD_FAILED",n.type=i,n.request=r,l.parentNode.removeChild(l),a(n)}};return l.onerror=l.onload=s,l.href=o,document.head.appendChild(l),l},o=(e,o)=>{for(var t=document.getElementsByTagName("link"),a=0;a<t.length;a++){var l=t[a],s=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(s===e||s===o))return l}var i=document.getElementsByTagName("style");for(a=0;a<i.length;a++){l=i[a],s=l.getAttribute("data-href");if(s===e||s===o)return l}},a=a=>new Promise(((l,s)=>{var i=t.miniCssF(a),r=t.p+i;if(o(i,r))return l();e(a,r,l,s)})),l={143:0};t.f.miniCss=(e,o)=>{var t={572:1};l[e]?o.push(l[e]):0!==l[e]&&t[e]&&o.push(l[e]=a(e).then((()=>{l[e]=0}),(o=>{throw delete l[e],o})))}})(),(()=>{var e={143:0};t.f.j=(o,a)=>{var l=t.o(e,o)?e[o]:void 0;if(0!==l)if(l)a.push(l[2]);else{var s=new Promise(((t,a)=>l=e[o]=[t,a]));a.push(l[2]=s);var i=t.p+t.u(o),r=new Error,n=a=>{if(t.o(e,o)&&(l=e[o],0!==l&&(e[o]=void 0),l)){var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;r.message="Loading chunk "+o+" failed.\n("+s+": "+i+")",r.name="ChunkLoadError",r.type=s,r.request=i,l[1](r)}};t.l(i,n,"chunk-"+o,o)}},t.O.j=o=>0===e[o];var o=(o,a)=>{var l,s,[i,r,n]=a,d=0;if(i.some((o=>0!==e[o]))){for(l in r)t.o(r,l)&&(t.m[l]=r[l]);if(n)var c=n(t)}for(o&&o(a);d<i.length;d++)s=i[d],t.o(e,s)&&e[s]&&e[s][0](),e[i[d]]=0;return t.O(c)},a=self["webpackChunkUE_Santa_rosa"]=self["webpackChunkUE_Santa_rosa"]||[];a.forEach(o.bind(null,0)),a.push=o.bind(null,a.push.bind(a))})();var a=t.O(void 0,[736],(()=>t(7082)));a=t.O(a)})();